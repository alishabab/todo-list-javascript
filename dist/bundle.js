!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){!function(t,n){var o={version:"2.11.2",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e,t){try{return JSON.parse(e,t||o.revive)}catch(t){return e}},fn:function(e,t){for(var n in o.storeAPI[e]=t,o.apis)o.apis[n][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,n){var r=o.inherit(o.storeAPI,(function(e,t,n){return 0===arguments.length?r.getAll():"function"==typeof t?r.transact(e,t,n):void 0!==t?r.set(e,t,n):"string"==typeof e||"number"==typeof e?r.get(e):"function"==typeof e?r.each(e):e?r.setAll(e,t):r.clear()}));r._id=e;try{t.setItem("_-bad-_","wolf"),r._area=t,t.removeItem("_-bad-_")}catch(e){}return r._area||(r._area=o.storage("fake")),r._ns=n||"",o.areas[e]||(o.areas[e]=r._area),o.apis[r._ns+r._id]||(o.apis[r._ns+r._id]=r),r},storeAPI:{area:function(e,t){var n=this[e];return n&&n.area||(n=o.Store(e,t,this._ns),this[e]||(this[e]=n)),n},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=e,r=this[n];if(!(r&&r.namespace||(r=o.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=r),t)))for(var i in o.areas)r.area(i,o.areas[i]);return r},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var n=0,r=o.length(this._area);n<r;n++){var i=this._out(o.key(this._area,n));if(void 0!==i&&!1===e.call(this,i,this.get(i),t))break;r>o.length(this._area)&&(r--,n--)}return t||this},keys:function(e){return this.each((function(e,t,n){n.push(e)}),e||[])},get:function(e,t){var n,r=o.get(this._area,this._in(e));return"function"==typeof t&&(n=t,t=null),null!==r?o.parse(r,n):null!=t?t:r},getAll:function(e){return this.each((function(e,t,n){n[e]=t}),e||{})},transact:function(e,t,n){var o=this.get(e,n),r=t(o);return this.set(e,void 0===r?o:r),this},set:function(e,t,n){var r=this.get(e);return null!=r&&!1===n?t:o.set(this._area,this._in(e),o.stringify(t),n)||r},setAll:function(e,t){var n,o;for(var r in e)o=e[r],this.set(r,o,t)!==o&&(n=!0);return n},add:function(e,t){var n=this.get(e);if(n instanceof Array)t=n.concat(t);else if(null!==n){var r=typeof n;if(r===typeof t&&"object"===r){for(var i in t)n[i]=t[i];t=n}else t=n+t}return o.set(this._area,this._in(e),o.stringify(t)),t},remove:function(e,t){var n=this.get(e,t);return o.remove(this._area,this._in(e)),n},clear:function(){return this._ns?this.each((function(e){o.remove(this._area,this._in(e))}),1):o.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in o.areas)o.areas.hasOwnProperty(t)&&(this._area=o.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=o.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return o.inherit(o.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},r=o.Store("local",function(){try{return localStorage}catch(e){}}());r.local=r,r._=o,r.area("session",function(){try{return sessionStorage}catch(e){}}()),r.area("page",o.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return r})):e.exports?e.exports=r:(t.store&&(o.conflict=t.store),t.store=r)}(this,this&&this.define)},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var u=s(d),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:d,updater:v(f,t),references:1}),o.push(d)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,p=0;function v(e,t){var n,o,r;if(t.singleton){var i=p++;n=m||(m=l(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=l(t),o=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=c(e,t),l=0;l<n.length;l++){var d=s(n[l]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){var o=n(1),r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(2)(!1)).push([e.i,'.modal{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif}.modal__overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center}.modal__container{background-color:#fff;padding:30px;max-width:500px;max-height:100vh;border-radius:4px;overflow-y:auto;box-sizing:border-box}.modal__header{display:flex;justify-content:space-between;align-items:center}.modal__title{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.25rem;line-height:1.25;color:#00449e;box-sizing:border-box}.modal__notice{font-size:12px;color:red}.modal__close{background:transparent;border:0}.modal__header .modal__close::before{content:"✕"}.modal__content{margin-top:2rem;margin-bottom:2rem;line-height:1.5;color:rgba(0,0,0,.8)}.modal__btn{font-size:.875rem;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;background-color:#e6e6e6;color:rgba(0,0,0,.8);border-radius:.25rem;border-style:none;border-width:0;cursor:pointer;-webkit-appearance:button;text-transform:none;overflow:visible;line-height:1.15;margin:0;will-change:transform;-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.modal__btn:focus,.modal__btn:hover{-webkit-transform:scale(1.05);transform:scale(1.05)}.modal__btn-primary{background-color:#00449e;color:#fff}@keyframes mmfadeIn{from{opacity:0}to{opacity:1}}@keyframes mmfadeOut{from{opacity:1}to{opacity:0}}@keyframes mmslideIn{from{transform:translateY(15%)}to{transform:translateY(0)}}@keyframes mmslideOut{from{transform:translateY(0)}to{transform:translateY(-10%)}}.micromodal-slide{display:none}.micromodal-slide.is-open{display:block}.micromodal-slide .modal__container,.micromodal-slide .modal__overlay{will-change:transform}.micromodal-slide[aria-hidden=false] .modal__overlay{animation:mmfadeIn .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=false] .modal__container{animation:mmslideIn .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=true] .modal__overlay{animation:mmfadeOut .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=true] .modal__container{animation:mmslideOut .3s cubic-bezier(0, 0, 0.2, 1)}',""]),e.exports=t},function(e,t,n){var o=n(1),r=n(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(2)(!1)).push([e.i,"*{box-sizing:border-box}main{padding:10px}h1{text-align:center;width:10%;box-shadow:0 3px 0 0 rgba(0,0,0,.75)}h2{color:#1a2e26}ul{list-style:none}li{margin-bottom:20px}.todo-list-items{list-style-type:none;color:#04f;cursor:pointer}.todo-list-items:hover{color:#4343ad}button{cursor:pointer}",""]),e.exports=t},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.r(t);var a,s,c,l,d,u=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var n=t.targetModal,o=t.triggers,i=void 0===o?[]:o,a=t.onShow,s=void 0===a?function(){}:a,c=t.onClose,l=void 0===c?function(){}:c,d=t.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=t.closeTrigger,h=void 0===f?"data-micromodal-close":f,m=t.openClass,p=void 0===m?"is-open":m,v=t.disableScroll,g=void 0!==v&&v,b=t.disableFocus,y=void 0!==b&&b,_=t.awaitCloseAnimation,w=void 0!==_&&_,C=t.awaitOpenAnimation,E=void 0!==C&&C,k=t.debugMode,x=void 0!==k&&k;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(n),this.config={debugMode:x,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:p,onShow:s,onClose:l,awaitCloseAnimation:w,awaitOpenAnimation:E,disableFocus:y},i.length>0&&this.registerTriggers.apply(this,r(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,n,i;return t=e,(n=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,r(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&o(t.prototype,n),i&&o(t,i),e}(),c=null,l=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},d=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)l(n);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=r(document.querySelectorAll("[".concat(t.openTrigger,"]"))),o=function(e,t){var n=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===n[o]&&(n[o]=[]),n[o].push(e)})),n}(n,t.openTrigger);if(!0!==t.debugMode||!1!==d(n,o))for(var i in o){var a=o[i];t.targetModal=i,t.triggers=r(a),c=new s(t)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===l(e)||(c&&c.removeEventListeners(),(c=new s(n)).showModal())},close:function(e){e?c.closeModalById(e):c.closeModal()}});window.MicroModal=u;var f=u,h=n(0),m=n.n(h);var p=class{constructor(e,t){this.title=e,this.description=t,this.todoList=[]}};var v=class{constructor(e,t,n,o=0,r=!1){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.complete=r}};var g=(()=>{const e=document.querySelector("#projects"),t=document.querySelector(".modal__content"),n=document.querySelector(".modal__title");let o=[new p("default","This is the default toDo list")],r=!1;const i=()=>document.querySelector(".modal__btn").click(),a=e=>{for(;e.firstChild;)e.removeChild(e.lastChild)},s=e=>{document.querySelector(".modal__notice").textContent=e},c=e=>{let t=!0;return e.forEach(e=>{e.length<1&&(t=!1)}),!1===t&&s("All fields Required"),t},l=(e,t)=>{e.todoList=e.todoList.filter(e=>e!==t),h(),i()},d=(e,o)=>{a(t),n.textContent=e.title,Object.entries(e).forEach(e=>{const n=document.createElement("p");n.textContent=`${e[0]}: ${e[1]}`,t.appendChild(n)});const r=document.createElement("button"),i=document.createElement("button");r.textContent="Remove Todo",t.appendChild(r),r.addEventListener("click",()=>l(o,e)),i.textContent="Edit Todo",t.appendChild(i),i.addEventListener("click",()=>((e,t)=>{y(!0,t,e)})(o,e))},u=e=>{const t=document.createElement("ul");return e.todoList.forEach(n=>{const o=document.createElement("li"),r=document.createElement("button");r.textContent=""+(n.complete?"Done":"Not Done"),o.innerHTML=`<strong>${n.title}</strong> - Due: ${n.dueDate}`,t.appendChild(r),r.addEventListener("click",()=>(e=>{e.complete=!e.complete,h()})(n)),o.classList.add("todo-list-items"),o.addEventListener("click",()=>d(n,e)),o.setAttribute("data-micromodal-trigger","modal-1"),t.appendChild(o)}),t},h=()=>{a(e),window.localStorage.getItem("projects")&&!1===r?(o=m()("projects"),r=!0):m()("projects",o),o.forEach(t=>{const n=document.createElement("h2"),o=document.createElement("hr");n.textContent=t.title,e.appendChild(n);const r=u(t);e.appendChild(r),e.appendChild(o),f.init()})},g=e=>{e.preventDefault();const t=document.querySelector(".project-title").value,n=document.querySelector(".project-description").value;if(!c([t,n]))return;const r=new p(t,n);o.push(r),h(),i()},b=e=>{e.preventDefault();const t=document.querySelector(".todo-project").value,n=o.filter(e=>e.title===t),r=document.querySelector(".todo-title").value,a=document.querySelector(".todo-description").value,s=document.querySelector(".todo-dueDate").value,l=document.querySelector(".todo-priority").value;if(!c([r,a,s,l]))return;const d=new v(r,a,s,l);n[0].todoList.push(d),h(),i()},y=(e,r,i)=>{s(""),a(t);const c=document.createElement("form"),d=document.createElement("select");d.classList.add("todo-project"),[["title","text"],["description","text"],["dueDate","date"],["priority","number"]].forEach(t=>{const n=document.createElement("br"),o=document.createElement("label");o.textContent=t[0],c.appendChild(o),c.appendChild(n);const i=document.createElement("input");[i.textContent,i.type]=t,e&&(i.value=r[t[0]]),i.classList.add("todo-"+t[0]),c.appendChild(i),c.appendChild(n)}),o.forEach(e=>{const t=document.createElement("option");t.textContent=e.title,d.appendChild(t)}),c.appendChild(d);const u=document.createElement("button");e?(n.textContent="Edit Todo",u.textContent="Finished Edit",u.addEventListener("click",()=>l(i,r))):(n.textContent="Add Todo",u.textContent="Create Todo"),u.addEventListener("click",b),c.appendChild(u),t.appendChild(c)};return{renderProjects:h,createProjectForm:()=>{s(""),a(t),n.textContent="Add Project";const e=document.createElement("form");["title","description"].forEach(t=>{const n=document.createElement("br"),o=document.createElement("label");o.textContent=t,e.appendChild(o),e.appendChild(n);const r=document.createElement("input");r.textContent=t,r.classList.add("project-"+t),e.appendChild(r),e.appendChild(n)});const o=document.createElement("button");o.textContent="Create Project",e.appendChild(o),o.addEventListener("click",g),t.appendChild(e)},createTodoForm:y}})();n(3),n(5);document.querySelector(".create-todo-btn").addEventListener("click",()=>g.createTodoForm(!1,{},{})),document.querySelector(".create-project-btn").addEventListener("click",g.createProjectForm),g.renderProjects()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0b3JlMi9kaXN0L3N0b3JlMi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kYWwuc2Nzcz8xMDRiIiwid2VicGFjazovLy8uL3NyYy9tb2RhbC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5zY3NzPzc1YmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJkZWZpbmUiLCJfIiwidmVyc2lvbiIsImFyZWFzIiwiYXBpcyIsImluaGVyaXQiLCJhcGkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzdHJpbmdpZnkiLCJ1bmRlZmluZWQiLCJKU09OIiwicGFyc2UiLCJmbiIsInJldml2ZSIsImUiLCJzdG9yZUFQSSIsImFyZWEiLCJnZXRJdGVtIiwic2V0Iiwic3RyaW5nIiwic2V0SXRlbSIsInJlbW92ZSIsInJlbW92ZUl0ZW0iLCJsZW5ndGgiLCJjbGVhciIsIlN0b3JlIiwiaWQiLCJuYW1lc3BhY2UiLCJzdG9yZSIsImRhdGEiLCJvdmVyd3JpdGUiLCJhcmd1bWVudHMiLCJnZXRBbGwiLCJ0cmFuc2FjdCIsImVhY2giLCJzZXRBbGwiLCJfaWQiLCJfYXJlYSIsInN0b3JhZ2UiLCJfbnMiLCJ0aGlzIiwic2luZ2xlQXJlYSIsInN1YnN0cmluZyIsImlzRmFrZSIsInRvU3RyaW5nIiwiaGFzIiwiX2luIiwic2l6ZSIsImtleXMiLCJmaWxsIiwiX291dCIsImZpbGxMaXN0IiwiayIsInYiLCJsaXN0IiwicHVzaCIsImFsdCIsImZpbGxPYmoiLCJhbGwiLCJ2YWwiLCJyZXQiLCJjaGFuZ2VkIiwiYWRkIiwiQXJyYXkiLCJjb25jYXQiLCJ0eXBlIiwiY2xlYXJBbGwiLCJpbmRleE9mIiwic3RvcmFnZUFQSSIsIml0ZW1zIiwibG9jYWxTdG9yYWdlIiwibG9jYWwiLCJzZXNzaW9uU3RvcmFnZSIsImFtZCIsImNvbmZsaWN0IiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiZG9jdW1lbnQiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImJhc2UiLCJjb3VudCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwidXNlU291cmNlTWFwIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiZGVmYXVsdCIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibGVuIiwiYXJyMiIsIkZPQ1VTQUJMRV9FTEVNRU5UUyIsIk1vZGFsIiwiYWN0aXZlTW9kYWwiLCJ2YWxpZGF0ZU1vZGFsUHJlc2VuY2UiLCJ2YWxpZGF0ZUFyZ3MiLCJNaWNyb01vZGFsIiwiX3JlZiIsInRhcmdldE1vZGFsIiwiX3JlZiR0cmlnZ2VycyIsInRyaWdnZXJzIiwiX3JlZiRvblNob3ciLCJvblNob3ciLCJfcmVmJG9uQ2xvc2UiLCJvbkNsb3NlIiwiX3JlZiRvcGVuVHJpZ2dlciIsIm9wZW5UcmlnZ2VyIiwiX3JlZiRjbG9zZVRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJfcmVmJG9wZW5DbGFzcyIsIm9wZW5DbGFzcyIsIl9yZWYkZGlzYWJsZVNjcm9sbCIsImRpc2FibGVTY3JvbGwiLCJfcmVmJGRpc2FibGVGb2N1cyIsImRpc2FibGVGb2N1cyIsIl9yZWYkYXdhaXRDbG9zZUFuaW1hdCIsImF3YWl0Q2xvc2VBbmltYXRpb24iLCJfcmVmJGF3YWl0T3BlbkFuaW1hdGkiLCJhd2FpdE9wZW5BbmltYXRpb24iLCJfcmVmJGRlYnVnTW9kZSIsImRlYnVnTW9kZSIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJtb2RhbCIsImdldEVsZW1lbnRCeUlkIiwiY29uZmlnIiwicmVnaXN0ZXJUcmlnZ2VycyIsImFwcGx5Iiwib25DbGljayIsIm9uS2V5ZG93biIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl90aGlzIiwiX2xlbiIsIl9rZXkiLCJ0cmlnZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd01vZGFsIiwiX3RoaXMyIiwiYWN0aXZlRWxlbWVudCIsImNsYXNzTGlzdCIsInNjcm9sbEJlaGF2aW91ciIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRGb2N1c1RvRmlyc3ROb2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJmb2N1cyIsImNsb3NlTW9kYWwiLCJ0b2dnbGUiLCJib2R5IiwiYXNzaWduIiwib3ZlcmZsb3ciLCJoYXNBdHRyaWJ1dGUiLCJrZXlDb2RlIiwicmV0YWluRm9jdXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdGhpczMiLCJmb2N1c2FibGVOb2RlcyIsImdldEZvY3VzYWJsZU5vZGVzIiwibm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyIsIm5vZGUiLCJvZmZzZXRQYXJlbnQiLCJjb250YWlucyIsImZvY3VzZWRJdGVtSW5kZXgiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsIndhcm4iLCJ0cmlnZ2VyTWFwIiwidmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UiLCJpbml0IiwidHJpZ2dlckF0dHIiLCJnZW5lcmF0ZVRyaWdnZXJNYXAiLCJzaG93IiwiY2xvc2UiLCJjbG9zZU1vZGFsQnlJZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ0b2RvTGlzdCIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNvbXBsZXRlIiwicHJvamVjdERpdiIsIm1vZGFsQ29udGVudCIsIm1vZGFsVGl0bGUiLCJwcm9qZWN0TGlzdCIsImZpcnN0UmVuZGVyIiwiY2xpY2siLCJjbGVhblBhZ2UiLCJlbGVtZW50IiwibGFzdENoaWxkIiwic2V0Tm90aWNlIiwidGV4dCIsInRleHRDb250ZW50IiwiY2hlY2tJbnB1dHMiLCJpbnB1dHNQYXNzIiwiaW5wdXQiLCJyZW1vdmVUb2RvIiwicHJvamVjdCIsInRvZG8iLCJyZW5kZXJQcm9qZWN0cyIsInJlbmRlclRvZG8iLCJlbnRyaWVzIiwiZGVsQnRuIiwiZWRpdEJ0biIsImNyZWF0ZVRvZG9Gb3JtIiwiZWRpdFRvZG8iLCJnZXRUb2RvTGlzdCIsInVsIiwibGkiLCJjb21wbGV0ZUJ0biIsImlubmVySFRNTCIsInRvZ2dsZURvbmUiLCJoMiIsImhyIiwiY3JlYXRlUHJvamVjdCIsIm5ld1Byb2plY3QiLCJjcmVhdGVUb2RvIiwicHJvamVjdE5hbWUiLCJuZXdUb2RvIiwiZWRpdGVkIiwiZm9ybSIsInNlbGVjdCIsImJyIiwibGFiZWwiLCJvcHRpb24iLCJidXR0b24iLCJjcmVhdGVQcm9qZWN0Rm9ybSIsImlucHV0QXJlYSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNE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WW9OLEdBQ2pCQSxFQUFPN0YsaUJBQWlCLFFBQVNrRixHQUNqQ2hDLEVBQWF6SyxZQUFZK00sSUE0RGlCaEIsbUJBN005QixHLFVDQWhCcE8sU0FBU0ssY0FBYyxvQkFBb0J1SixpQkFBaUIsUUFBUyxJQUFNLEVBQVF3RSxnQkFBZSxFQUFPLEdBQUksS0FDN0dwTyxTQUFTSyxjQUFjLHVCQUF1QnVKLGlCQUFpQixRQUFTLEVBQVE4RixtQkFFaEYsRUFBUTNCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIi8qISBzdG9yZTIgLSB2Mi4xMS4yIC0gMjAyMC0wNS0xMVxuKiBDb3B5cmlnaHQgKGMpIDIwMjAgTmF0aGFuIEJ1Ym5hOyBMaWNlbnNlZCAoTUlUIE9SIEdQTC0zLjApICovXG47KGZ1bmN0aW9uKHdpbmRvdywgZGVmaW5lKSB7XG4gICAgdmFyIF8gPSB7XG4gICAgICAgIHZlcnNpb246IFwiMi4xMS4yXCIsXG4gICAgICAgIGFyZWFzOiB7fSxcbiAgICAgICAgYXBpczoge30sXG5cbiAgICAgICAgLy8gdXRpbGl0aWVzXG4gICAgICAgIGluaGVyaXQ6IGZ1bmN0aW9uKGFwaSwgbykge1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBhcGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW8uaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIHAsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpLCBwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgIH0sXG4gICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgZCA9PT0gXCJmdW5jdGlvblwiID8gZCsnJyA6IEpTT04uc3RyaW5naWZ5KGQpO1xuICAgICAgICB9LFxuICAgICAgICBwYXJzZTogZnVuY3Rpb24ocywgZm4pIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IGRvZXNuJ3QgcGFyc2UsIHJldHVybiBhcyBpc1xuICAgICAgICAgICAgdHJ5eyByZXR1cm4gSlNPTi5wYXJzZShzLGZufHxfLnJldml2ZSk7IH1jYXRjaChlKXsgcmV0dXJuIHM7IH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBleHRlbnNpb24gaG9va3NcbiAgICAgICAgZm46IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgICAgICAgICBfLnN0b3JlQVBJW25hbWVdID0gZm47XG4gICAgICAgICAgICBmb3IgKHZhciBhcGkgaW4gXy5hcGlzKSB7XG4gICAgICAgICAgICAgICAgXy5hcGlzW2FwaV1bbmFtZV0gPSBmbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihhcmVhLCBrZXkpeyByZXR1cm4gYXJlYS5nZXRJdGVtKGtleSk7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oYXJlYSwga2V5LCBzdHJpbmcpeyBhcmVhLnNldEl0ZW0oa2V5LCBzdHJpbmcpOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGFyZWEsIGtleSl7IGFyZWEucmVtb3ZlSXRlbShrZXkpOyB9LFxuICAgICAgICBrZXk6IGZ1bmN0aW9uKGFyZWEsIGkpeyByZXR1cm4gYXJlYS5rZXkoaSk7IH0sXG4gICAgICAgIGxlbmd0aDogZnVuY3Rpb24oYXJlYSl7IHJldHVybiBhcmVhLmxlbmd0aDsgfSxcbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKGFyZWEpeyBhcmVhLmNsZWFyKCk7IH0sXG5cbiAgICAgICAgLy8gY29yZSBmdW5jdGlvbnNcbiAgICAgICAgU3RvcmU6IGZ1bmN0aW9uKGlkLCBhcmVhLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IF8uaW5oZXJpdChfLnN0b3JlQVBJLCBmdW5jdGlvbihrZXksIGRhdGEsIG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKXsgcmV0dXJuIHN0b3JlLmdldEFsbCgpOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcImZ1bmN0aW9uXCIpeyByZXR1cm4gc3RvcmUudHJhbnNhY3Qoa2V5LCBkYXRhLCBvdmVyd3JpdGUpOyB9Ly8gZm49ZGF0YSwgYWx0PW92ZXJ3cml0ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpeyByZXR1cm4gc3RvcmUuc2V0KGtleSwgZGF0YSwgb3ZlcndyaXRlKTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBrZXkgPT09IFwibnVtYmVyXCIpeyByZXR1cm4gc3RvcmUuZ2V0KGtleSk7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJmdW5jdGlvblwiKXsgcmV0dXJuIHN0b3JlLmVhY2goa2V5KTsgfVxuICAgICAgICAgICAgICAgIGlmICgha2V5KXsgcmV0dXJuIHN0b3JlLmNsZWFyKCk7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuc2V0QWxsKGtleSwgZGF0YSk7Ly8gb3ZlcndyaXRlPWRhdGEsIGRhdGE9a2V5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0b3JlLl9pZCA9IGlkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgdGVzdEtleSA9ICdfLWJhZC1fJztcbiAgICAgICAgICAgICAgICBhcmVhLnNldEl0ZW0odGVzdEtleSwgJ3dvbGYnKTtcbiAgICAgICAgICAgICAgICBzdG9yZS5fYXJlYSA9IGFyZWE7XG4gICAgICAgICAgICAgICAgYXJlYS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIGlmICghc3RvcmUuX2FyZWEpIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5fYXJlYSA9IF8uc3RvcmFnZSgnZmFrZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmUuX25zID0gbmFtZXNwYWNlIHx8ICcnO1xuICAgICAgICAgICAgaWYgKCFfLmFyZWFzW2lkXSkge1xuICAgICAgICAgICAgICAgIF8uYXJlYXNbaWRdID0gc3RvcmUuX2FyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV8uYXBpc1tzdG9yZS5fbnMrc3RvcmUuX2lkXSkge1xuICAgICAgICAgICAgICAgIF8uYXBpc1tzdG9yZS5fbnMrc3RvcmUuX2lkXSA9IHN0b3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICB9LFxuICAgICAgICBzdG9yZUFQSToge1xuICAgICAgICAgICAgLy8gYWRtaW4gZnVuY3Rpb25zXG4gICAgICAgICAgICBhcmVhOiBmdW5jdGlvbihpZCwgYXJlYSkge1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRoaXNbaWRdO1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLmFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUgPSBfLlN0b3JlKGlkLCBhcmVhLCB0aGlzLl9ucyk7Ly9uZXcgYXJlYS1zcGVjaWZpYyBhcGkgaW4gdGhpcyBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzW2lkXSl7IHRoaXNbaWRdID0gc3RvcmU7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWVzcGFjZTogZnVuY3Rpb24obmFtZXNwYWNlLCBzaW5nbGVBcmVhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2Upe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbnMgPyB0aGlzLl9ucy5zdWJzdHJpbmcoMCx0aGlzLl9ucy5sZW5ndGgtMSkgOiAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5zID0gbmFtZXNwYWNlLCBzdG9yZSA9IHRoaXNbbnNdO1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZSA9IF8uU3RvcmUodGhpcy5faWQsIHRoaXMuX2FyZWEsIHRoaXMuX25zK25zKycuJyk7Ly9uZXcgbmFtZXNwYWNlZCBhcGlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzW25zXSl7IHRoaXNbbnNdID0gc3RvcmU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaW5nbGVBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIF8uYXJlYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5hcmVhKG5hbWUsIF8uYXJlYXNbbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0Zha2U6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLl9hcmVhLm5hbWUgPT09ICdmYWtlJzsgfSxcbiAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3N0b3JlJysodGhpcy5fbnM/Jy4nK3RoaXMubmFtZXNwYWNlKCk6JycpKydbJyt0aGlzLl9pZCsnXSc7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBzdG9yYWdlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXJlYS5oYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FyZWEuaGFzKHRoaXMuX2luKGtleSkpOy8vZXh0ZW5zaW9uIGhvb2tcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuX2luKGtleSkgaW4gdGhpcy5fYXJlYSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMua2V5cygpLmxlbmd0aDsgfSxcbiAgICAgICAgICAgIGVhY2g6IGZ1bmN0aW9uKGZuLCBmaWxsKSB7Ly8gZmlsbCBpcyB1c2VkIGJ5IGtleXMoZmlsbExpc3QpIGFuZCBnZXRBbGwoZmlsbExpc3QpKVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MCwgbT1fLmxlbmd0aCh0aGlzLl9hcmVhKTsgaTxtOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuX291dChfLmtleSh0aGlzLl9hcmVhLCBpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuLmNhbGwodGhpcywga2V5LCB0aGlzLmdldChrZXkpLCBmaWxsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobSA+IF8ubGVuZ3RoKHRoaXMuX2FyZWEpKSB7IG0tLTsgaS0tOyB9Ly8gaW4gY2FzZSBvZiByZW1vdmVJdGVtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxsIHx8IHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5czogZnVuY3Rpb24oZmlsbExpc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGssIHYsIGxpc3QpeyBsaXN0LnB1c2goayk7IH0sIGZpbGxMaXN0IHx8IFtdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSwgYWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBfLmdldCh0aGlzLl9hcmVhLCB0aGlzLl9pbihrZXkpKSxcbiAgICAgICAgICAgICAgICAgICAgZm47XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhbHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBmbiA9IGFsdDtcbiAgICAgICAgICAgICAgICAgICAgYWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMgIT09IG51bGwgPyBfLnBhcnNlKHMsIGZuKSA6XG4gICAgICAgICAgICAgICAgICAgIGFsdCAhPSBudWxsID8gYWx0IDogcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRBbGw6IGZ1bmN0aW9uKGZpbGxPYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGssIHYsIGFsbCl7IGFsbFtrXSA9IHY7IH0sIGZpbGxPYmogfHwge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zYWN0OiBmdW5jdGlvbihrZXksIGZuLCBhbHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXQoa2V5LCBhbHQpLFxuICAgICAgICAgICAgICAgICAgICByZXQgPSBmbih2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgcmV0ID09PSB1bmRlZmluZWQgPyB2YWwgOiByZXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oa2V5LCBkYXRhLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBvdmVyd3JpdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXy5zZXQodGhpcy5fYXJlYSwgdGhpcy5faW4oa2V5KSwgXy5zdHJpbmdpZnkoZGF0YSksIG92ZXJ3cml0ZSkgfHwgZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRBbGw6IGZ1bmN0aW9uKGRhdGEsIG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkLCB2YWw7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXQoa2V5LCB2YWwsIG92ZXJ3cml0ZSkgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihrZXksIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZC5jb25jYXQoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSB0eXBlb2YgZGF0YSAmJiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZFtrXSA9IGRhdGFba107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkICsgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfLnNldCh0aGlzLl9hcmVhLCB0aGlzLl9pbihrZXkpLCBfLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIGFsdCkge1xuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5nZXQoa2V5LCBhbHQpO1xuICAgICAgICAgICAgICAgIF8ucmVtb3ZlKHRoaXMuX2FyZWEsIHRoaXMuX2luKGtleSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX25zKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uY2xlYXIodGhpcy5fYXJlYSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGspeyBfLnJlbW92ZSh0aGlzLl9hcmVhLCB0aGlzLl9pbihrKSk7IH0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhckFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZWEgPSB0aGlzLl9hcmVhO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIF8uYXJlYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uYXJlYXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hcmVhID0gXy5hcmVhc1tpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJlYSA9IGFyZWE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCB1c2UgZnVuY3Rpb25zXG4gICAgICAgICAgICBfaW46IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGsgIT09IFwic3RyaW5nXCIpeyBrID0gXy5zdHJpbmdpZnkoayk7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbnMgPyB0aGlzLl9ucyArIGsgOiBrO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vdXQ6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbnMgP1xuICAgICAgICAgICAgICAgICAgICBrICYmIGsuaW5kZXhPZih0aGlzLl9ucykgPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgay5zdWJzdHJpbmcodGhpcy5fbnMubGVuZ3RoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiAvLyBzbyBlYWNoKCkga25vd3MgdG8gc2tpcCBpdFxuICAgICAgICAgICAgICAgICAgICBrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LC8vIGVuZCBfLnN0b3JlQVBJXG4gICAgICAgIHN0b3JhZ2U6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfLmluaGVyaXQoXy5zdG9yYWdlQVBJLCB7IGl0ZW1zOiB7fSwgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcmFnZUFQSToge1xuICAgICAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbihrKXsgcmV0dXJuIHRoaXMuaXRlbXMuaGFzT3duUHJvcGVydHkoayk7IH0sXG4gICAgICAgICAgICBrZXk6IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzKGspICYmIGkgPT09IGMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0SXRlbTogZnVuY3Rpb24oaywgdikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1trXSA9IHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24oaykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhcyhrKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1trXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SXRlbTogZnVuY3Rpb24oayl7IHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMuaXRlbXNba10gOiBudWxsOyB9LFxuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCl7IGZvciAodmFyIGsgaW4gdGhpcy5pdGVtcyl7IHRoaXMucmVtb3ZlSXRlbShrKTsgfSB9XG4gICAgICAgIH0vLyBlbmQgXy5zdG9yYWdlQVBJXG4gICAgfTtcblxuICAgIHZhciBzdG9yZSA9XG4gICAgICAgIC8vIHNhZmVseSBzZXQgdGhpcyB1cCAodGhyb3dzIGVycm9yIGluIElFMTAvMzJiaXQgbW9kZSBmb3IgbG9jYWwgZmlsZXMpXG4gICAgICAgIF8uU3RvcmUoXCJsb2NhbFwiLCAoZnVuY3Rpb24oKXt0cnl7IHJldHVybiBsb2NhbFN0b3JhZ2U7IH1jYXRjaChlKXt9fSkoKSk7XG4gICAgc3RvcmUubG9jYWwgPSBzdG9yZTsvLyBmb3IgY29tcGxldGVuZXNzXG4gICAgc3RvcmUuXyA9IF87Ly8gZm9yIGV4dGVuZGVycyBhbmQgZGVidWdnZXJzLi4uXG4gICAgLy8gc2FmZWx5IHNldHVwIHN0b3JlLnNlc3Npb24gKHRocm93cyBleGNlcHRpb24gaW4gRkYgZm9yIGZpbGU6Ly8vIHVybHMpXG4gICAgc3RvcmUuYXJlYShcInNlc3Npb25cIiwgKGZ1bmN0aW9uKCl7dHJ5eyByZXR1cm4gc2Vzc2lvblN0b3JhZ2U7IH1jYXRjaChlKXt9fSkoKSk7XG4gICAgc3RvcmUuYXJlYShcInBhZ2VcIiwgXy5zdG9yYWdlKFwicGFnZVwiKSk7XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVmaW5lKCdzdG9yZTInLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gc3RvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXhwb3NlIHRoZSBwcmltYXJ5IHN0b3JlIGZuIHRvIHRoZSBnbG9iYWwgb2JqZWN0IGFuZCBzYXZlIGNvbmZsaWN0c1xuICAgICAgICBpZiAod2luZG93LnN0b3JlKXsgXy5jb25mbGljdCA9IHdpbmRvdy5zdG9yZTsgfVxuICAgICAgICB3aW5kb3cuc3RvcmUgPSBzdG9yZTtcbiAgICB9XG5cbn0pKHRoaXMsIHRoaXMgJiYgdGhpcy5kZWZpbmUpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tb2RhbC5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1vZGFse2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LGF2ZW5pciBuZXh0LGF2ZW5pcixoZWx2ZXRpY2EgbmV1ZSxoZWx2ZXRpY2EsdWJ1bnR1LHJvYm90byxub3RvLHNlZ29lIHVpLGFyaWFsLHNhbnMtc2VyaWZ9Lm1vZGFsX19vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuNik7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5tb2RhbF9fY29udGFpbmVye2JhY2tncm91bmQtY29sb3I6I2ZmZjtwYWRkaW5nOjMwcHg7bWF4LXdpZHRoOjUwMHB4O21heC1oZWlnaHQ6MTAwdmg7Ym9yZGVyLXJhZGl1czo0cHg7b3ZlcmZsb3cteTphdXRvO2JveC1zaXppbmc6Ym9yZGVyLWJveH0ubW9kYWxfX2hlYWRlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyfS5tb2RhbF9fdGl0bGV7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtmb250LXdlaWdodDo2MDA7Zm9udC1zaXplOjEuMjVyZW07bGluZS1oZWlnaHQ6MS4yNTtjb2xvcjojMDA0NDllO2JveC1zaXppbmc6Ym9yZGVyLWJveH0ubW9kYWxfX25vdGljZXtmb250LXNpemU6MTJweDtjb2xvcjpyZWR9Lm1vZGFsX19jbG9zZXtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowfS5tb2RhbF9faGVhZGVyIC5tb2RhbF9fY2xvc2U6OmJlZm9yZXtjb250ZW50OlxcXCLinJVcXFwifS5tb2RhbF9fY29udGVudHttYXJnaW4tdG9wOjJyZW07bWFyZ2luLWJvdHRvbToycmVtO2xpbmUtaGVpZ2h0OjEuNTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0ubW9kYWxfX2J0bntmb250LXNpemU6Ljg3NXJlbTtwYWRkaW5nLWxlZnQ6MXJlbTtwYWRkaW5nLXJpZ2h0OjFyZW07cGFkZGluZy10b3A6LjVyZW07cGFkZGluZy1ib3R0b206LjVyZW07YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2O2NvbG9yOnJnYmEoMCwwLDAsLjgpO2JvcmRlci1yYWRpdXM6LjI1cmVtO2JvcmRlci1zdHlsZTpub25lO2JvcmRlci13aWR0aDowO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247dGV4dC10cmFuc2Zvcm06bm9uZTtvdmVyZmxvdzp2aXNpYmxlO2xpbmUtaGVpZ2h0OjEuMTU7bWFyZ2luOjA7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAuMjVzIGVhc2Utb3V0O3RyYW5zaXRpb246dHJhbnNmb3JtIC4yNXMgZWFzZS1vdXQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjI1cyBlYXNlLW91dCwtd2Via2l0LXRyYW5zZm9ybSAuMjVzIGVhc2Utb3V0fS5tb2RhbF9fYnRuOmZvY3VzLC5tb2RhbF9fYnRuOmhvdmVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDUpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX0ubW9kYWxfX2J0bi1wcmltYXJ5e2JhY2tncm91bmQtY29sb3I6IzAwNDQ5ZTtjb2xvcjojZmZmfUBrZXlmcmFtZXMgbW1mYWRlSW57ZnJvbXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIG1tZmFkZU91dHtmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjB9fUBrZXlmcmFtZXMgbW1zbGlkZUlue2Zyb217dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTUlKX10b3t0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QGtleWZyYW1lcyBtbXNsaWRlT3V0e2Zyb217dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwJSl9fS5taWNyb21vZGFsLXNsaWRle2Rpc3BsYXk6bm9uZX0ubWljcm9tb2RhbC1zbGlkZS5pcy1vcGVue2Rpc3BsYXk6YmxvY2t9Lm1pY3JvbW9kYWwtc2xpZGUgLm1vZGFsX19jb250YWluZXIsLm1pY3JvbW9kYWwtc2xpZGUgLm1vZGFsX19vdmVybGF5e3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0ubWljcm9tb2RhbC1zbGlkZVthcmlhLWhpZGRlbj1mYWxzZV0gLm1vZGFsX19vdmVybGF5e2FuaW1hdGlvbjptbWZhZGVJbiAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSl9Lm1pY3JvbW9kYWwtc2xpZGVbYXJpYS1oaWRkZW49ZmFsc2VdIC5tb2RhbF9fY29udGFpbmVye2FuaW1hdGlvbjptbXNsaWRlSW4gLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpfS5taWNyb21vZGFsLXNsaWRlW2FyaWEtaGlkZGVuPXRydWVdIC5tb2RhbF9fb3ZlcmxheXthbmltYXRpb246bW1mYWRlT3V0IC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKX0ubWljcm9tb2RhbC1zbGlkZVthcmlhLWhpZGRlbj10cnVlXSAubW9kYWxfX2NvbnRhaW5lcnthbmltYXRpb246bW1zbGlkZU91dCAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSl9XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIip7Ym94LXNpemluZzpib3JkZXItYm94fW1haW57cGFkZGluZzoxMHB4fWgxe3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjEwJTtib3gtc2hhZG93OjAgM3B4IDAgMCByZ2JhKDAsMCwwLC43NSl9aDJ7Y29sb3I6IzFhMmUyNn11bHtsaXN0LXN0eWxlOm5vbmV9bGl7bWFyZ2luLWJvdHRvbToyMHB4fS50b2RvLWxpc3QtaXRlbXN7bGlzdC1zdHlsZS10eXBlOm5vbmU7Y29sb3I6IzA0ZjtjdXJzb3I6cG9pbnRlcn0udG9kby1saXN0LWl0ZW1zOmhvdmVye2NvbG9yOiM0MzQzYWR9YnV0dG9ue2N1cnNvcjpwb2ludGVyfVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG4pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxudmFyIE1pY3JvTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIEZPQ1VTQUJMRV9FTEVNRU5UUyA9IFsnYVtocmVmXScsICdhcmVhW2hyZWZdJywgJ2lucHV0Om5vdChbZGlzYWJsZWRdKTpub3QoW3R5cGU9XCJoaWRkZW5cIl0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdzZWxlY3Q6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ2lmcmFtZScsICdvYmplY3QnLCAnZW1iZWQnLCAnW2NvbnRlbnRlZGl0YWJsZV0nLCAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pJ107XG5cbiAgdmFyIE1vZGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RhbChfcmVmKSB7XG4gICAgICB2YXIgdGFyZ2V0TW9kYWwgPSBfcmVmLnRhcmdldE1vZGFsLFxuICAgICAgICAgIF9yZWYkdHJpZ2dlcnMgPSBfcmVmLnRyaWdnZXJzLFxuICAgICAgICAgIHRyaWdnZXJzID0gX3JlZiR0cmlnZ2VycyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJHRyaWdnZXJzLFxuICAgICAgICAgIF9yZWYkb25TaG93ID0gX3JlZi5vblNob3csXG4gICAgICAgICAgb25TaG93ID0gX3JlZiRvblNob3cgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHt9IDogX3JlZiRvblNob3csXG4gICAgICAgICAgX3JlZiRvbkNsb3NlID0gX3JlZi5vbkNsb3NlLFxuICAgICAgICAgIG9uQ2xvc2UgPSBfcmVmJG9uQ2xvc2UgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHt9IDogX3JlZiRvbkNsb3NlLFxuICAgICAgICAgIF9yZWYkb3BlblRyaWdnZXIgPSBfcmVmLm9wZW5UcmlnZ2VyLFxuICAgICAgICAgIG9wZW5UcmlnZ2VyID0gX3JlZiRvcGVuVHJpZ2dlciA9PT0gdm9pZCAwID8gJ2RhdGEtbWljcm9tb2RhbC10cmlnZ2VyJyA6IF9yZWYkb3BlblRyaWdnZXIsXG4gICAgICAgICAgX3JlZiRjbG9zZVRyaWdnZXIgPSBfcmVmLmNsb3NlVHJpZ2dlcixcbiAgICAgICAgICBjbG9zZVRyaWdnZXIgPSBfcmVmJGNsb3NlVHJpZ2dlciA9PT0gdm9pZCAwID8gJ2RhdGEtbWljcm9tb2RhbC1jbG9zZScgOiBfcmVmJGNsb3NlVHJpZ2dlcixcbiAgICAgICAgICBfcmVmJG9wZW5DbGFzcyA9IF9yZWYub3BlbkNsYXNzLFxuICAgICAgICAgIG9wZW5DbGFzcyA9IF9yZWYkb3BlbkNsYXNzID09PSB2b2lkIDAgPyAnaXMtb3BlbicgOiBfcmVmJG9wZW5DbGFzcyxcbiAgICAgICAgICBfcmVmJGRpc2FibGVTY3JvbGwgPSBfcmVmLmRpc2FibGVTY3JvbGwsXG4gICAgICAgICAgZGlzYWJsZVNjcm9sbCA9IF9yZWYkZGlzYWJsZVNjcm9sbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRpc2FibGVTY3JvbGwsXG4gICAgICAgICAgX3JlZiRkaXNhYmxlRm9jdXMgPSBfcmVmLmRpc2FibGVGb2N1cyxcbiAgICAgICAgICBkaXNhYmxlRm9jdXMgPSBfcmVmJGRpc2FibGVGb2N1cyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRpc2FibGVGb2N1cyxcbiAgICAgICAgICBfcmVmJGF3YWl0Q2xvc2VBbmltYXQgPSBfcmVmLmF3YWl0Q2xvc2VBbmltYXRpb24sXG4gICAgICAgICAgYXdhaXRDbG9zZUFuaW1hdGlvbiA9IF9yZWYkYXdhaXRDbG9zZUFuaW1hdCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGF3YWl0Q2xvc2VBbmltYXQsXG4gICAgICAgICAgX3JlZiRhd2FpdE9wZW5BbmltYXRpID0gX3JlZi5hd2FpdE9wZW5BbmltYXRpb24sXG4gICAgICAgICAgYXdhaXRPcGVuQW5pbWF0aW9uID0gX3JlZiRhd2FpdE9wZW5BbmltYXRpID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkYXdhaXRPcGVuQW5pbWF0aSxcbiAgICAgICAgICBfcmVmJGRlYnVnTW9kZSA9IF9yZWYuZGVidWdNb2RlLFxuICAgICAgICAgIGRlYnVnTW9kZSA9IF9yZWYkZGVidWdNb2RlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGVidWdNb2RlO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9kYWwpO1xuXG4gICAgICAvLyBTYXZlIGEgcmVmZXJlbmNlIG9mIHRoZSBtb2RhbFxuICAgICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldE1vZGFsKTsgLy8gU2F2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcGFzc2VkIGNvbmZpZ1xuXG4gICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgZGVidWdNb2RlOiBkZWJ1Z01vZGUsXG4gICAgICAgIGRpc2FibGVTY3JvbGw6IGRpc2FibGVTY3JvbGwsXG4gICAgICAgIG9wZW5UcmlnZ2VyOiBvcGVuVHJpZ2dlcixcbiAgICAgICAgY2xvc2VUcmlnZ2VyOiBjbG9zZVRyaWdnZXIsXG4gICAgICAgIG9wZW5DbGFzczogb3BlbkNsYXNzLFxuICAgICAgICBvblNob3c6IG9uU2hvdyxcbiAgICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgICAgYXdhaXRDbG9zZUFuaW1hdGlvbjogYXdhaXRDbG9zZUFuaW1hdGlvbixcbiAgICAgICAgYXdhaXRPcGVuQW5pbWF0aW9uOiBhd2FpdE9wZW5BbmltYXRpb24sXG4gICAgICAgIGRpc2FibGVGb2N1czogZGlzYWJsZUZvY3VzXG4gICAgICB9OyAvLyBSZWdpc3RlciBjbGljayBldmVudHMgb25seSBpZiBwcmUgYmluZGluZyBldmVudExpc3RlbmVyc1xuXG4gICAgICBpZiAodHJpZ2dlcnMubGVuZ3RoID4gMCkgdGhpcy5yZWdpc3RlclRyaWdnZXJzLmFwcGx5KHRoaXMsIF90b0NvbnN1bWFibGVBcnJheSh0cmlnZ2VycykpOyAvLyBwcmUgYmluZCBmdW5jdGlvbnMgZm9yIGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMub25LZXlkb3duID0gdGhpcy5vbktleWRvd24uYmluZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9vcHMgdGhyb3VnaCBhbGwgb3BlblRyaWdnZXJzIGFuZCBiaW5kcyBjbGljayBldmVudFxuICAgICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyBbQXJyYXkgb2Ygbm9kZSBlbGVtZW50c11cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTW9kYWwsIFt7XG4gICAgICBrZXk6IFwicmVnaXN0ZXJUcmlnZ2Vyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyVHJpZ2dlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHRyaWdnZXJzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIHRyaWdnZXJzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJpZ2dlcnMuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2hvd01vZGFsKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNob3dNb2RhbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dNb2RhbCgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmVoYXZpb3VyKCdkaXNhYmxlJyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYXdhaXRPcGVuQW5pbWF0aW9uKSB7XG4gICAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgX3RoaXMyLm1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZXIsIGZhbHNlKTtcblxuICAgICAgICAgICAgX3RoaXMyLnNldEZvY3VzVG9GaXJzdE5vZGUoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRGb2N1c1RvRmlyc3ROb2RlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbmZpZy5vblNob3codGhpcy5tb2RhbCwgdGhpcy5hY3RpdmVFbGVtZW50LCBldmVudCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlTW9kYWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgICAgIHZhciBtb2RhbCA9IHRoaXMubW9kYWw7XG4gICAgICAgIHRoaXMubW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5zY3JvbGxCZWhhdmlvdXIoJ2VuYWJsZScpO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUVsZW1lbnQgJiYgdGhpcy5hY3RpdmVFbGVtZW50LmZvY3VzKSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbmZpZy5vbkNsb3NlKHRoaXMubW9kYWwsIHRoaXMuYWN0aXZlRWxlbWVudCwgZXZlbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hd2FpdENsb3NlQW5pbWF0aW9uKSB7XG4gICAgICAgICAgdmFyIG9wZW5DbGFzcyA9IHRoaXMuY29uZmlnLm9wZW5DbGFzczsgLy8gPC0gb2xkIHNjaG9vbCBmdHdcblxuICAgICAgICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUob3BlbkNsYXNzKTtcbiAgICAgICAgICAgIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlTW9kYWxCeUlkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VNb2RhbEJ5SWQodGFyZ2V0TW9kYWwpIHtcbiAgICAgICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldE1vZGFsKTtcbiAgICAgICAgaWYgKHRoaXMubW9kYWwpIHRoaXMuY2xvc2VNb2RhbCgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzY3JvbGxCZWhhdmlvdXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxCZWhhdmlvdXIodG9nZ2xlKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcuZGlzYWJsZVNjcm9sbCkgcmV0dXJuO1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcblxuICAgICAgICBzd2l0Y2ggKHRvZ2dsZSkge1xuICAgICAgICAgIGNhc2UgJ2VuYWJsZSc6XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJvZHkuc3R5bGUsIHtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnZGlzYWJsZSc6XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJvZHkuc3R5bGUsIHtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25DbGljayk7XG4gICAgICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleWRvd24pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW1vdmVFdmVudExpc3RlbmVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLm1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB0aGlzLm1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlkb3duKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib25DbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUodGhpcy5jb25maWcuY2xvc2VUcmlnZ2VyKSkge1xuICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib25LZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25LZXlkb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAyNykgdGhpcy5jbG9zZU1vZGFsKGV2ZW50KTsgLy8gZXNjXG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDkpIHRoaXMucmV0YWluRm9jdXMoZXZlbnQpOyAvLyB0YWJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0Rm9jdXNhYmxlTm9kZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGb2N1c2FibGVOb2RlcygpIHtcbiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yQWxsKEZPQ1VTQUJMRV9FTEVNRU5UUyk7XG4gICAgICAgIHJldHVybiBBcnJheS5hcHBseSh2b2lkIDAsIF90b0NvbnN1bWFibGVBcnJheShub2RlcykpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUcmllcyB0byBzZXQgZm9jdXMgb24gYSBub2RlIHdoaWNoIGlzIG5vdCBhIGNsb3NlIHRyaWdnZXJcbiAgICAgICAqIGlmIG5vIG90aGVyIG5vZGVzIGV4aXN0IHRoZW4gZm9jdXNlcyBvbiBmaXJzdCBjbG9zZSB0cmlnZ2VyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXRGb2N1c1RvRmlyc3ROb2RlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmRpc2FibGVGb2N1cykgcmV0dXJuO1xuICAgICAgICB2YXIgZm9jdXNhYmxlTm9kZXMgPSB0aGlzLmdldEZvY3VzYWJsZU5vZGVzKCk7IC8vIG5vIGZvY3VzYWJsZSBub2Rlc1xuXG4gICAgICAgIGlmIChmb2N1c2FibGVOb2Rlcy5sZW5ndGggPT09IDApIHJldHVybjsgLy8gcmVtb3ZlIG5vZGVzIG9uIHdob3NlIGNsaWNrLCB0aGUgbW9kYWwgY2xvc2VzXG4gICAgICAgIC8vIGNvdWxkIG5vdCB0aGluayBvZiBhIGJldHRlciBuYW1lIDooXG5cbiAgICAgICAgdmFyIG5vZGVzV2hpY2hBcmVOb3RDbG9zZVRhcmdldHMgPSBmb2N1c2FibGVOb2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gIW5vZGUuaGFzQXR0cmlidXRlKF90aGlzMy5jb25maWcuY2xvc2VUcmlnZ2VyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzLmxlbmd0aCA+IDApIG5vZGVzV2hpY2hBcmVOb3RDbG9zZVRhcmdldHNbMF0uZm9jdXMoKTtcbiAgICAgICAgaWYgKG5vZGVzV2hpY2hBcmVOb3RDbG9zZVRhcmdldHMubGVuZ3RoID09PSAwKSBmb2N1c2FibGVOb2Rlc1swXS5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZXRhaW5Gb2N1c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJldGFpbkZvY3VzKGV2ZW50KSB7XG4gICAgICAgIHZhciBmb2N1c2FibGVOb2RlcyA9IHRoaXMuZ2V0Rm9jdXNhYmxlTm9kZXMoKTsgLy8gbm8gZm9jdXNhYmxlIG5vZGVzXG5cbiAgICAgICAgaWYgKGZvY3VzYWJsZU5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlsdGVycyBub2RlcyB3aGljaCBhcmUgaGlkZGVuIHRvIHByZXZlbnRcbiAgICAgICAgICogZm9jdXMgbGVhayBvdXRzaWRlIG1vZGFsXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZvY3VzYWJsZU5vZGVzID0gZm9jdXNhYmxlTm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGUub2Zmc2V0UGFyZW50ICE9PSBudWxsO1xuICAgICAgICB9KTsgLy8gaWYgZGlzYWJsZUZvY3VzIGlzIHRydWVcblxuICAgICAgICBpZiAoIXRoaXMubW9kYWwuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICBmb2N1c2FibGVOb2Rlc1swXS5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBmb2N1c2VkSXRlbUluZGV4ID0gZm9jdXNhYmxlTm9kZXMuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblxuICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBmb2N1c2FibGVOb2Rlc1tmb2N1c2FibGVOb2Rlcy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzYWJsZU5vZGVzLmxlbmd0aCA+IDAgJiYgZm9jdXNlZEl0ZW1JbmRleCA9PT0gZm9jdXNhYmxlTm9kZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE1vZGFsO1xuICB9KCk7XG4gIC8qKlxuICAgKiBNb2RhbCBwcm90b3R5cGUgZW5kcy5cbiAgICogSGVyZSBvbiBjb2RlIGlzIHJlc3BvbnNpYmxlIGZvciBkZXRlY3RpbmcgYW5kXG4gICAqIGF1dG8gYmluZGluZyBldmVudCBoYW5kbGVycyBvbiBtb2RhbCB0cmlnZ2Vyc1xuICAgKi9cbiAgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgb3BlbmVkIG1vZGFsXG5cblxuICB2YXIgYWN0aXZlTW9kYWwgPSBudWxsO1xuICAvKipcbiAgICogR2VuZXJhdGVzIGFuIGFzc29jaWF0aXZlIGFycmF5IG9mIG1vZGFscyBhbmQgaXQnc1xuICAgKiByZXNwZWN0aXZlIHRyaWdnZXJzXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyAgICAgQW4gYXJyYXkgb2YgYWxsIHRyaWdnZXJzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdHJpZ2dlckF0dHIgVGhlIGRhdGEtYXR0cmlidXRlIHdoaWNoIHRyaWdnZXJzIHRoZSBtb2R1bGVcbiAgICogQHJldHVybiB7YXJyYXl9XG4gICAqL1xuXG4gIHZhciBnZW5lcmF0ZVRyaWdnZXJNYXAgPSBmdW5jdGlvbiBnZW5lcmF0ZVRyaWdnZXJNYXAodHJpZ2dlcnMsIHRyaWdnZXJBdHRyKSB7XG4gICAgdmFyIHRyaWdnZXJNYXAgPSBbXTtcbiAgICB0cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICB2YXIgdGFyZ2V0TW9kYWwgPSB0cmlnZ2VyLmF0dHJpYnV0ZXNbdHJpZ2dlckF0dHJdLnZhbHVlO1xuICAgICAgaWYgKHRyaWdnZXJNYXBbdGFyZ2V0TW9kYWxdID09PSB1bmRlZmluZWQpIHRyaWdnZXJNYXBbdGFyZ2V0TW9kYWxdID0gW107XG4gICAgICB0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXS5wdXNoKHRyaWdnZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cmlnZ2VyTWFwO1xuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGVzIHdoZXRoZXIgYSBtb2RhbCBvZiB0aGUgZ2l2ZW4gaWQgZXhpc3RzXG4gICAqIGluIHRoZSBET01cbiAgICogQHBhcmFtICB7bnVtYmVyfSBpZCAgVGhlIGlkIG9mIHRoZSBtb2RhbFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UgPSBmdW5jdGlvbiB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UoaWQpIHtcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiTWljcm9Nb2RhbDogXFx1Mjc1N1NlZW1zIGxpa2UgeW91IGhhdmUgbWlzc2VkICVjJ1wiLmNvbmNhdChpZCwgXCInXCIpLCAnYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtjb2xvcjogIzUwNTk2Yztmb250LXdlaWdodDogYm9sZDsnLCAnSUQgc29tZXdoZXJlIGluIHlvdXIgY29kZS4gUmVmZXIgZXhhbXBsZSBiZWxvdyB0byByZXNvbHZlIGl0LicpO1xuICAgICAgY29uc29sZS53YXJuKFwiJWNFeGFtcGxlOlwiLCAnYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtjb2xvcjogIzUwNTk2Yztmb250LXdlaWdodDogYm9sZDsnLCBcIjxkaXYgY2xhc3M9XFxcIm1vZGFsXFxcIiBpZD1cXFwiXCIuY29uY2F0KGlkLCBcIlxcXCI+PC9kaXY+XCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgaWYgdGhlcmUgYXJlIG1vZGFsIHRyaWdnZXJzIHByZXNlbnRcbiAgICogaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgQW4gYXJyYXkgb2YgZGF0YS10cmlnZ2Vyc1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHJpZ2dlclByZXNlbmNlKHRyaWdnZXJzKSB7XG4gICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA8PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJNaWNyb01vZGFsOiBcXHUyNzU3UGxlYXNlIHNwZWNpZnkgYXQgbGVhc3Qgb25lICVjJ21pY3JvbW9kYWwtdHJpZ2dlcidcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgJ2RhdGEgYXR0cmlidXRlLicpO1xuICAgICAgY29uc29sZS53YXJuKFwiJWNFeGFtcGxlOlwiLCAnYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtjb2xvcjogIzUwNTk2Yztmb250LXdlaWdodDogYm9sZDsnLCBcIjxhIGhyZWY9XFxcIiNcXFwiIGRhdGEtbWljcm9tb2RhbC10cmlnZ2VyPVxcXCJteS1tb2RhbFxcXCI+PC9hPlwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdHJpZ2dlcnMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgbW9kYWxzXG4gICAqIGFyZSBwcmVzZW50IGluIHRoZSBET01cbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzICAgQXJyYXkgb2YgRE9NIG5vZGVzIHdoaWNoIGhhdmUgZGF0YS10cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlck1hcCBBc3NvY2lhdGl2ZSBhcnJheSBvZiBtb2RhbHMgYW5kIHRoZWlyIHRyaWdnZXJzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlQXJncyA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJncyh0cmlnZ2VycywgdHJpZ2dlck1hcCkge1xuICAgIHZhbGlkYXRlVHJpZ2dlclByZXNlbmNlKHRyaWdnZXJzKTtcbiAgICBpZiAoIXRyaWdnZXJNYXApIHJldHVybiB0cnVlO1xuXG4gICAgZm9yICh2YXIgaWQgaW4gdHJpZ2dlck1hcCkge1xuICAgICAgdmFsaWRhdGVNb2RhbFByZXNlbmNlKGlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIEJpbmRzIGNsaWNrIGhhbmRsZXJzIHRvIGFsbCBtb2RhbCB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZyBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cblxuXG4gIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdChjb25maWcpIHtcbiAgICAvLyBDcmVhdGUgYW4gY29uZmlnIG9iamVjdCB3aXRoIGRlZmF1bHQgb3BlblRyaWdnZXJcbiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgIG9wZW5UcmlnZ2VyOiAnZGF0YS1taWNyb21vZGFsLXRyaWdnZXInXG4gICAgfSwgY29uZmlnKTsgLy8gQ29sbGVjdHMgYWxsIHRoZSBub2RlcyB3aXRoIHRoZSB0cmlnZ2VyXG5cbiAgICB2YXIgdHJpZ2dlcnMgPSBfdG9Db25zdW1hYmxlQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltcIi5jb25jYXQob3B0aW9ucy5vcGVuVHJpZ2dlciwgXCJdXCIpKSk7IC8vIE1ha2VzIGEgbWFwcGluZ3Mgb2YgbW9kYWxzIHdpdGggdGhlaXIgdHJpZ2dlciBub2Rlc1xuXG5cbiAgICB2YXIgdHJpZ2dlck1hcCA9IGdlbmVyYXRlVHJpZ2dlck1hcCh0cmlnZ2Vycywgb3B0aW9ucy5vcGVuVHJpZ2dlcik7IC8vIENoZWNrcyBpZiBtb2RhbHMgYW5kIHRyaWdnZXJzIGV4aXN0IGluIGRvbVxuXG4gICAgaWYgKG9wdGlvbnMuZGVidWdNb2RlID09PSB0cnVlICYmIHZhbGlkYXRlQXJncyh0cmlnZ2VycywgdHJpZ2dlck1hcCkgPT09IGZhbHNlKSByZXR1cm47IC8vIEZvciBldmVyeSB0YXJnZXQgbW9kYWwgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZVxuXG4gICAgZm9yICh2YXIga2V5IGluIHRyaWdnZXJNYXApIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRyaWdnZXJNYXBba2V5XTtcbiAgICAgIG9wdGlvbnMudGFyZ2V0TW9kYWwgPSBrZXk7XG4gICAgICBvcHRpb25zLnRyaWdnZXJzID0gX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlKTtcbiAgICAgIGFjdGl2ZU1vZGFsID0gbmV3IE1vZGFsKG9wdGlvbnMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFNob3dzIGEgcGFydGljdWxhciBtb2RhbFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldE1vZGFsIFtUaGUgaWQgb2YgdGhlIG1vZGFsIHRvIGRpc3BsYXldXG4gICAqIEBwYXJhbSAge29iamVjdH0gY29uZmlnIFtUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gcGFzc11cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG5cblxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3codGFyZ2V0TW9kYWwsIGNvbmZpZykge1xuICAgIHZhciBvcHRpb25zID0gY29uZmlnIHx8IHt9O1xuICAgIG9wdGlvbnMudGFyZ2V0TW9kYWwgPSB0YXJnZXRNb2RhbDsgLy8gQ2hlY2tzIGlmIG1vZGFscyBhbmQgdHJpZ2dlcnMgZXhpc3QgaW4gZG9tXG5cbiAgICBpZiAob3B0aW9ucy5kZWJ1Z01vZGUgPT09IHRydWUgJiYgdmFsaWRhdGVNb2RhbFByZXNlbmNlKHRhcmdldE1vZGFsKSA9PT0gZmFsc2UpIHJldHVybjsgLy8gY2xlYXIgZXZlbnRzIGluIGNhc2UgcHJldmlvdXMgbW9kYWwgd2Fzbid0IGNsb3NlXG5cbiAgICBpZiAoYWN0aXZlTW9kYWwpIGFjdGl2ZU1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7IC8vIHN0b3JlcyByZWZlcmVuY2UgdG8gYWN0aXZlIG1vZGFsXG5cbiAgICBhY3RpdmVNb2RhbCA9IG5ldyBNb2RhbChvcHRpb25zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcblxuICAgIGFjdGl2ZU1vZGFsLnNob3dNb2RhbCgpO1xuICB9O1xuICAvKipcbiAgICogQ2xvc2VzIHRoZSBhY3RpdmUgbW9kYWxcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YXJnZXRNb2RhbCBbVGhlIGlkIG9mIHRoZSBtb2RhbCB0byBjbG9zZV1cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG5cblxuICB2YXIgY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSh0YXJnZXRNb2RhbCkge1xuICAgIHRhcmdldE1vZGFsID8gYWN0aXZlTW9kYWwuY2xvc2VNb2RhbEJ5SWQodGFyZ2V0TW9kYWwpIDogYWN0aXZlTW9kYWwuY2xvc2VNb2RhbCgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5pdDogaW5pdCxcbiAgICBzaG93OiBzaG93LFxuICAgIGNsb3NlOiBjbG9zZVxuICB9O1xufSgpO1xud2luZG93Lk1pY3JvTW9kYWwgPSBNaWNyb01vZGFsO1xuXG5leHBvcnQgZGVmYXVsdCBNaWNyb01vZGFsO1xuIiwiY2xhc3MgUHJvamVjdCB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy50b2RvTGlzdCA9IFtdO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3Q7IiwiY2xhc3MgVG9kbyB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkgPSAwLCBjb21wbGV0ZSA9IGZhbHNlKSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgLy8gQWRkIG5vdGVzIGFuZCBjaGVja2xpc3QgbGF0ZXJcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvOyIsImltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlMic7XG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3RzJztcbmltcG9ydCBUb2RvIGZyb20gJy4vdG9kb3MnO1xuXG5jb25zdCBEaXNwbGF5ID0gKCgpID0+IHtcbiAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0cycpO1xuICBjb25zdCBtb2RhbENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRlbnQnKTtcbiAgY29uc3QgbW9kYWxUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fdGl0bGUnKTtcbiAgY29uc3QgZGVmYXVsdFByb2plY3QgPSBuZXcgUHJvamVjdCgnZGVmYXVsdCcsICdUaGlzIGlzIHRoZSBkZWZhdWx0IHRvRG8gbGlzdCcpO1xuICBsZXQgcHJvamVjdExpc3QgPSBbZGVmYXVsdFByb2plY3RdO1xuXG4gIGxldCBmaXJzdFJlbmRlciA9IGZhbHNlO1xuXG4gIGNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J0bicpLmNsaWNrKCk7XG5cbiAgY29uc3QgY2xlYW5QYWdlID0gKGVsZW1lbnQpID0+IHtcbiAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQubGFzdENoaWxkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2V0Tm90aWNlID0gKHRleHQpID0+IHtcbiAgICBjb25zdCBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19ub3RpY2UnKTtcbiAgICBwLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfTtcblxuICBjb25zdCBjaGVja0lucHV0cyA9IChhcnIpID0+IHtcbiAgICBsZXQgaW5wdXRzUGFzcyA9IHRydWU7XG4gICAgYXJyLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgaWYgKGlucHV0Lmxlbmd0aCA8IDEpIHsgaW5wdXRzUGFzcyA9IGZhbHNlOyB9XG4gICAgfSk7XG4gICAgaWYgKGlucHV0c1Bhc3MgPT09IGZhbHNlKSB7XG4gICAgICBzZXROb3RpY2UoJ0FsbCBmaWVsZHMgUmVxdWlyZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0c1Bhc3M7XG4gIH07XG5cbiAgY29uc3QgZWRpdFRvZG8gPSAocHJvamVjdCwgdG9kbykgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIGNyZWF0ZVRvZG9Gb3JtKHRydWUsIHRvZG8sIHByb2plY3QpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZVRvZG8gPSAocHJvamVjdCwgdG9kbykgPT4ge1xuICAgIHByb2plY3QudG9kb0xpc3QgPSBwcm9qZWN0LnRvZG9MaXN0LmZpbHRlcigodmFsdWUpID0+IHZhbHVlICE9PSB0b2RvKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZW5kZXJQcm9qZWN0cygpO1xuICAgIGNsb3NlTW9kYWwoKTtcbiAgfTtcblxuICAvLyBjb25zdCByZW1vdmVQcm9qZWN0ID0gKHByb2plY3QpID0+IHtcbiAgLy8gICBpZiAocHJvamVjdCA9PT0gZGVmYXVsdFByb2plY3QpIHsgcmV0dXJuOyB9XG4gIC8vICAgcHJvamVjdExpc3QgPSBwcm9qZWN0TGlzdC5maWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPT0gcHJvamVjdCk7XG4gIC8vICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIC8vICAgcmVuZGVyUHJvamVjdHMoKTtcbiAgLy8gfTtcbiAgY29uc3QgcmVuZGVyVG9kbyA9ICh0b2RvLCBwcm9qZWN0KSA9PiB7XG4gICAgY2xlYW5QYWdlKG1vZGFsQ29udGVudCk7XG4gICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IHRvZG8udGl0bGU7XG4gICAgT2JqZWN0LmVudHJpZXModG9kbykuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gYCR7aXRlbVswXX06ICR7aXRlbVsxXX1gO1xuICAgICAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBkZWxCdG4udGV4dENvbnRlbnQgPSAnUmVtb3ZlIFRvZG8nO1xuICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChkZWxCdG4pO1xuICAgIGRlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbW92ZVRvZG8ocHJvamVjdCwgdG9kbykpO1xuICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSAnRWRpdCBUb2RvJztcbiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGVkaXRUb2RvKHByb2plY3QsIHRvZG8pKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVEb25lID0gKHRvZG8pID0+IHtcbiAgICB0b2RvLmNvbXBsZXRlID0gIXRvZG8uY29tcGxldGU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmVuZGVyUHJvamVjdHMoKTtcbiAgfTtcbiAgY29uc3QgZ2V0VG9kb0xpc3QgPSAocHJvamVjdCkgPT4ge1xuICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBwcm9qZWN0LnRvZG9MaXN0LmZvckVhY2godG9kbyA9PiB7XG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBjb25zdCBjb21wbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgY29tcGxldGVCdG4udGV4dENvbnRlbnQgPSBgJHt0b2RvLmNvbXBsZXRlID8gJ0RvbmUnIDogJ05vdCBEb25lJ31gO1xuICAgICAgbGkuaW5uZXJIVE1MID0gYDxzdHJvbmc+JHt0b2RvLnRpdGxlfTwvc3Ryb25nPiAtIER1ZTogJHt0b2RvLmR1ZURhdGV9YDtcbiAgICAgIHVsLmFwcGVuZENoaWxkKGNvbXBsZXRlQnRuKTtcbiAgICAgIGNvbXBsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlRG9uZSh0b2RvKSk7XG4gICAgICBsaS5jbGFzc0xpc3QuYWRkKCd0b2RvLWxpc3QtaXRlbXMnKTtcbiAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVuZGVyVG9kbyh0b2RvLCBwcm9qZWN0KSk7XG4gICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWljcm9tb2RhbC10cmlnZ2VyJywgJ21vZGFsLTEnKTtcbiAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdWw7XG4gIH07XG4gIGNvbnN0IHJlbmRlclByb2plY3RzID0gKCkgPT4ge1xuICAgIGNsZWFuUGFnZShwcm9qZWN0RGl2KTtcblxuICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykgJiYgZmlyc3RSZW5kZXIgPT09IGZhbHNlKSB7XG4gICAgICBwcm9qZWN0TGlzdCA9IHN0b3JlKCdwcm9qZWN0cycpO1xuICAgICAgZmlyc3RSZW5kZXIgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZSgncHJvamVjdHMnLCBwcm9qZWN0TGlzdCk7XG4gICAgfVxuXG4gICAgcHJvamVjdExpc3QuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgIGNvbnN0IGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgIGNvbnN0IGhyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHInKTtcbiAgICAgIGgyLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZTtcbiAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQoaDIpO1xuICAgICAgY29uc3QgdWwgPSBnZXRUb2RvTGlzdChwcm9qZWN0KTtcbiAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQodWwpO1xuICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChocik7XG4gICAgICBNaWNyb01vZGFsLmluaXQoKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LXRpdGxlJykudmFsdWU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1kZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgIGlmICghY2hlY2tJbnB1dHMoW3RpdGxlLCBkZXNjcmlwdGlvbl0pKSB7IHJldHVybjsgfVxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgUHJvamVjdCh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgIHByb2plY3RMaXN0LnB1c2gobmV3UHJvamVjdCk7XG4gICAgcmVuZGVyUHJvamVjdHMoKTtcbiAgICBjbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgc2V0Tm90aWNlKCcnKTtcbiAgICBjbGVhblBhZ2UobW9kYWxDb250ZW50KTtcbiAgICBtb2RhbFRpdGxlLnRleHRDb250ZW50ID0gJ0FkZCBQcm9qZWN0JztcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGNvbnN0IGlucHV0cyA9IFsndGl0bGUnLCAnZGVzY3JpcHRpb24nXTtcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBjb25zdCBiciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XG4gICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGlucHV0O1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGJyKTtcbiAgICAgIGNvbnN0IGlucHV0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBpbnB1dEFyZWEudGV4dENvbnRlbnQgPSBpbnB1dDtcbiAgICAgIGlucHV0QXJlYS5jbGFzc0xpc3QuYWRkKGBwcm9qZWN0LSR7aW5wdXR9YCk7XG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0QXJlYSk7XG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGJyKTtcbiAgICB9KTtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQ3JlYXRlIFByb2plY3QnO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVQcm9qZWN0KTtcbiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlVG9kbyA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1wcm9qZWN0JykudmFsdWU7XG4gICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0udGl0bGUgPT09IHByb2plY3ROYW1lKTtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLXRpdGxlJykudmFsdWU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1kZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1kdWVEYXRlJykudmFsdWU7XG4gICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1wcmlvcml0eScpLnZhbHVlO1xuICAgIGlmICghY2hlY2tJbnB1dHMoW3RpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHldKSkgeyByZXR1cm47IH1cbiAgICBjb25zdCBuZXdUb2RvID0gbmV3IFRvZG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gICAgcHJvamVjdFswXS50b2RvTGlzdC5wdXNoKG5ld1RvZG8pO1xuICAgIHJlbmRlclByb2plY3RzKCk7XG4gICAgY2xvc2VNb2RhbCgpO1xuICB9O1xuICBjb25zdCBjcmVhdGVUb2RvRm9ybSA9IChlZGl0ZWQsIHRvZG8sIHByb2plY3QpID0+IHtcbiAgICBzZXROb3RpY2UoJycpO1xuICAgIGNsZWFuUGFnZShtb2RhbENvbnRlbnQpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgY29uc3QgaW5wdXRzID0gW1sndGl0bGUnLCAndGV4dCddLCBbJ2Rlc2NyaXB0aW9uJywgJ3RleHQnXSwgWydkdWVEYXRlJywgJ2RhdGUnXSwgWydwcmlvcml0eScsICdudW1iZXInXV07XG4gICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgc2VsZWN0LmNsYXNzTGlzdC5hZGQoJ3RvZG8tcHJvamVjdCcpO1xuICAgIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIGNvbnN0IGJyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTtcbiAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBpbnB1dFswXTtcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChicik7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIFtlbGVtZW50LnRleHRDb250ZW50LCBlbGVtZW50LnR5cGVdID0gaW5wdXQ7XG4gICAgICBpZiAoZWRpdGVkKSB7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSB0b2RvW2lucHV0WzBdXTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChgdG9kby0ke2lucHV0WzBdfWApO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnIpO1xuICAgIH0pO1xuICAgIHByb2plY3RMaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKHNlbGVjdCk7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgaWYgKCFlZGl0ZWQpIHtcbiAgICAgIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSAnQWRkIFRvZG8nO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0NyZWF0ZSBUb2RvJztcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9ICdFZGl0IFRvZG8nO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0ZpbmlzaGVkIEVkaXQnO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlVG9kbyhwcm9qZWN0LCB0b2RvKSk7XG4gICAgfVxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNyZWF0ZVRvZG8pO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIH07XG5cbiAgcmV0dXJuIHsgcmVuZGVyUHJvamVjdHMsIGNyZWF0ZVByb2plY3RGb3JtLCBjcmVhdGVUb2RvRm9ybSB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheTsiLCJpbXBvcnQgRGlzcGxheSBmcm9tICcuL2RvbSc7XG5cbmltcG9ydCAnLi9tb2RhbC5zY3NzJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZS10b2RvLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gRGlzcGxheS5jcmVhdGVUb2RvRm9ybShmYWxzZSwge30sIHt9KSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlLXByb2plY3QtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBEaXNwbGF5LmNyZWF0ZVByb2plY3RGb3JtKTtcblxuRGlzcGxheS5yZW5kZXJQcm9qZWN0cygpOyJdLCJzb3VyY2VSb290IjoiIn0=