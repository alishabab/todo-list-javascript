!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){!function(t,n){var o={version:"2.11.2",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e,t){try{return JSON.parse(e,t||o.revive)}catch(t){return e}},fn:function(e,t){for(var n in o.storeAPI[e]=t,o.apis)o.apis[n][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,n){var r=o.inherit(o.storeAPI,(function(e,t,n){return 0===arguments.length?r.getAll():"function"==typeof t?r.transact(e,t,n):void 0!==t?r.set(e,t,n):"string"==typeof e||"number"==typeof e?r.get(e):"function"==typeof e?r.each(e):e?r.setAll(e,t):r.clear()}));r._id=e;try{t.setItem("_-bad-_","wolf"),r._area=t,t.removeItem("_-bad-_")}catch(e){}return r._area||(r._area=o.storage("fake")),r._ns=n||"",o.areas[e]||(o.areas[e]=r._area),o.apis[r._ns+r._id]||(o.apis[r._ns+r._id]=r),r},storeAPI:{area:function(e,t){var n=this[e];return n&&n.area||(n=o.Store(e,t,this._ns),this[e]||(this[e]=n)),n},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=e,r=this[n];if(!(r&&r.namespace||(r=o.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=r),t)))for(var i in o.areas)r.area(i,o.areas[i]);return r},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var n=0,r=o.length(this._area);n<r;n++){var i=this._out(o.key(this._area,n));if(void 0!==i&&!1===e.call(this,i,this.get(i),t))break;r>o.length(this._area)&&(r--,n--)}return t||this},keys:function(e){return this.each((function(e,t,n){n.push(e)}),e||[])},get:function(e,t){var n,r=o.get(this._area,this._in(e));return"function"==typeof t&&(n=t,t=null),null!==r?o.parse(r,n):null!=t?t:r},getAll:function(e){return this.each((function(e,t,n){n[e]=t}),e||{})},transact:function(e,t,n){var o=this.get(e,n),r=t(o);return this.set(e,void 0===r?o:r),this},set:function(e,t,n){var r=this.get(e);return null!=r&&!1===n?t:o.set(this._area,this._in(e),o.stringify(t),n)||r},setAll:function(e,t){var n,o;for(var r in e)o=e[r],this.set(r,o,t)!==o&&(n=!0);return n},add:function(e,t){var n=this.get(e);if(n instanceof Array)t=n.concat(t);else if(null!==n){var r=typeof n;if(r===typeof t&&"object"===r){for(var i in t)n[i]=t[i];t=n}else t=n+t}return o.set(this._area,this._in(e),o.stringify(t)),t},remove:function(e,t){var n=this.get(e,t);return o.remove(this._area,this._in(e)),n},clear:function(){return this._ns?this.each((function(e){o.remove(this._area,this._in(e))}),1):o.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in o.areas)o.areas.hasOwnProperty(t)&&(this._area=o.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=o.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return o.inherit(o.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},r=o.Store("local",function(){try{return localStorage}catch(e){}}());r.local=r,r._=o,r.area("session",function(){try{return sessionStorage}catch(e){}}()),r.area("page",o.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return r})):e.exports?e.exports=r:(t.store&&(o.conflict=t.store),t.store=r)}(this,this&&this.define)},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var u=s(d),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:d,updater:v(f,t),references:1}),o.push(d)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,p=0;function v(e,t){var n,o,r;if(t.singleton){var i=p++;n=m||(m=l(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=l(t),o=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=c(e,t),l=0;l<n.length;l++){var d=s(n[l]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){var o=n(1),r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(2)(!1)).push([e.i,'.modal{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif}.modal__overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center}.modal__container{background-color:#fff;padding:30px;max-width:500px;max-height:100vh;border-radius:4px;overflow-y:auto;box-sizing:border-box}.modal__header{display:flex;justify-content:space-between;align-items:center}.modal__title{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.25rem;line-height:1.25;color:#00449e;box-sizing:border-box}.modal__notice{font-size:12px;color:red}.modal__close{background:transparent;border:0}.modal__header .modal__close::before{content:"✕"}.modal__content{margin-top:2rem;margin-bottom:2rem;line-height:1.5;color:rgba(0,0,0,.8)}.modal__btn{font-size:.875rem;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;background-color:#e6e6e6;color:rgba(0,0,0,.8);border-radius:.25rem;border-style:none;border-width:0;cursor:pointer;-webkit-appearance:button;text-transform:none;overflow:visible;line-height:1.15;margin:0;will-change:transform;-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.modal__btn:focus,.modal__btn:hover{-webkit-transform:scale(1.05);transform:scale(1.05)}.modal__btn-primary{background-color:#00449e;color:#fff}@keyframes mmfadeIn{from{opacity:0}to{opacity:1}}@keyframes mmfadeOut{from{opacity:1}to{opacity:0}}@keyframes mmslideIn{from{transform:translateY(15%)}to{transform:translateY(0)}}@keyframes mmslideOut{from{transform:translateY(0)}to{transform:translateY(-10%)}}.micromodal-slide{display:none}.micromodal-slide.is-open{display:block}.micromodal-slide .modal__container,.micromodal-slide .modal__overlay{will-change:transform}.micromodal-slide[aria-hidden=false] .modal__overlay{animation:mmfadeIn .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=false] .modal__container{animation:mmslideIn .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=true] .modal__overlay{animation:mmfadeOut .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=true] .modal__container{animation:mmslideOut .3s cubic-bezier(0, 0, 0.2, 1)}',""]),e.exports=t},function(e,t,n){var o=n(1),r=n(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(2)(!1)).push([e.i,"*{box-sizing:border-box}main{padding:10px}h1{text-align:center;width:10%;box-shadow:0 3px 0 0 rgba(0,0,0,.75)}h2{color:#1a2e26}ul{list-style:none}li{margin-bottom:20px}.todo-list-items{list-style-type:none;color:#04f;cursor:pointer}.todo-list-items:hover{color:#4343ad}button{cursor:pointer}",""]),e.exports=t},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.r(t);var a,s,c,l,d,u=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var n=t.targetModal,o=t.triggers,i=void 0===o?[]:o,a=t.onShow,s=void 0===a?function(){}:a,c=t.onClose,l=void 0===c?function(){}:c,d=t.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=t.closeTrigger,h=void 0===f?"data-micromodal-close":f,m=t.openClass,p=void 0===m?"is-open":m,v=t.disableScroll,g=void 0!==v&&v,b=t.disableFocus,y=void 0!==b&&b,_=t.awaitCloseAnimation,w=void 0!==_&&_,C=t.awaitOpenAnimation,E=void 0!==C&&C,k=t.debugMode,x=void 0!==k&&k;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(n),this.config={debugMode:x,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:p,onShow:s,onClose:l,awaitCloseAnimation:w,awaitOpenAnimation:E,disableFocus:y},i.length>0&&this.registerTriggers.apply(this,r(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,n,i;return t=e,(n=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,r(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&o(t.prototype,n),i&&o(t,i),e}(),c=null,l=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},d=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)l(n);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=r(document.querySelectorAll("[".concat(t.openTrigger,"]"))),o=function(e,t){var n=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===n[o]&&(n[o]=[]),n[o].push(e)})),n}(n,t.openTrigger);if(!0!==t.debugMode||!1!==d(n,o))for(var i in o){var a=o[i];t.targetModal=i,t.triggers=r(a),c=new s(t)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===l(e)||(c&&c.removeEventListeners(),(c=new s(n)).showModal())},close:function(e){e?c.closeModalById(e):c.closeModal()}});window.MicroModal=u;var f=u,h=n(0),m=n.n(h);var p=class{constructor(e,t){this.title=e,this.description=t,this.todoList=[]}static filterTodo(e,t){e.todoList=e.todoList.filter(e=>e!==t)}};var v=class{constructor(e,t,n,o=0,r=!1){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.complete=r}};var g=(()=>{const e=document.querySelector("#projects"),t=document.querySelector(".modal__content"),n=document.querySelector(".modal__title");let o=[new p("default","This is the default toDo list")],r=!0;const i=()=>document.querySelector(".modal__btn").click(),a=e=>{for(;e.firstChild;)e.removeChild(e.lastChild)},s=e=>{document.querySelector(".modal__notice").textContent=e},c=e=>{let t=!0;return e.forEach(e=>{e.length<1&&(t=!1)}),!1===t&&s("All fields Required"),t},l=(e,t)=>{p.filterTodo(e,t),u(),i()},d=e=>{const o=document.createElement("ul");return e.todoList.forEach(r=>{const i=document.createElement("li"),s=document.createElement("button");s.textContent=""+(r.complete?"Done":"Not Done"),i.innerHTML=`<strong>${r.title}</strong> - Due: ${r.dueDate}`,o.appendChild(s),s.addEventListener("click",()=>(e=>{e.complete=!e.complete,u()})(r)),i.classList.add("todo-list-items"),i.addEventListener("click",()=>((e,o)=>{a(t),n.textContent=e.title,Object.entries(e).forEach(e=>{const n=document.createElement("p");n.textContent=`${e[0]}: ${e[1]}`,t.appendChild(n)});const r=document.createElement("button"),i=document.createElement("button");r.textContent="Remove Todo",t.appendChild(r),r.addEventListener("click",()=>l(o,e)),i.textContent="Edit Todo",t.appendChild(i),i.addEventListener("click",()=>b(!0,e,o))})(r,e)),i.setAttribute("data-micromodal-trigger","modal-1"),o.appendChild(i)}),o},u=()=>{a(e),m()("projects")&&r?(o=m()("projects"),r=!1):m()("projects",o),o.forEach(t=>{const n=document.createElement("h2"),o=document.createElement("hr");n.textContent=t.title,e.appendChild(n);const r=d(t);e.appendChild(r),e.appendChild(o),f.init()})},h=e=>{e.preventDefault();const t=document.querySelector(".project-title").value,n=document.querySelector(".project-description").value;if(!c([t,n]))return;const r=new p(t,n);o.push(r),u(),i()},g=e=>{e.preventDefault();const t=document.querySelector(".todo-project").value,n=o.filter(e=>e.title===t),r=document.querySelector(".todo-title").value,a=document.querySelector(".todo-description").value,s=document.querySelector(".todo-dueDate").value,l=document.querySelector('input[name="priority"]:checked').textContent;if(!c([r,a,s,l]))return;const d=new v(r,a,s,l);n[0].todoList.push(d),u(),i()},b=(e,r,i)=>{s(""),a(t);const c=document.createElement("form"),d=document.createElement("select");d.classList.add("todo-project"),[["Title","text","title"],["Description","text","description"],["DueDate","date","dueDate"],["Low","radio","priority"],["Medium","radio","priority"],["High","radio","priority"]].forEach(t=>{const n=document.createElement("br"),o=document.createElement("label");o.textContent=t[0],c.appendChild(o),c.appendChild(n);const i=document.createElement("input");[i.textContent,i.type,i.name]=t,e&&(i.value=r[t[2]]),i.classList.add("todo-"+t[2]),c.appendChild(i),c.appendChild(n)}),o.forEach(e=>{const t=document.createElement("option");t.textContent=e.title,d.appendChild(t)}),c.appendChild(d);const u=document.createElement("button");e?(n.textContent="Edit Todo",u.textContent="Finished Edit",u.addEventListener("click",()=>l(i,r))):(n.textContent="Add Todo",u.textContent="Create Todo"),u.addEventListener("click",g),c.appendChild(u),t.appendChild(c)};return{renderProjects:u,createProjectForm:()=>{s(""),a(t),n.textContent="Add Project";const e=document.createElement("form");["title","description"].forEach(t=>{const n=document.createElement("br"),o=document.createElement("label");o.textContent=t,e.appendChild(o),e.appendChild(n);const r=document.createElement("input");r.textContent=t,r.classList.add("project-"+t),e.appendChild(r),e.appendChild(n)});const o=document.createElement("button");o.textContent="Create Project",e.appendChild(o),o.addEventListener("click",h),t.appendChild(e)},createTodoForm:b}})();n(3),n(5);document.querySelector(".create-todo-btn").addEventListener("click",()=>g.createTodoForm(!1,{},{})),document.querySelector(".create-project-btn").addEventListener("click",g.createProjectForm),g.renderProjects()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0b3JlMi9kaXN0L3N0b3JlMi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kYWwuc2Nzcz8xMDRiIiwid2VicGFjazovLy8uL3NyYy9tb2RhbC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5zY3NzPzc1YmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJkZWZpbmUiLCJfIiwidmVyc2lvbiIsImFyZWFzIiwiYXBpcyIsImluaGVyaXQiLCJhcGkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzdHJpbmdpZnkiLCJ1bmRlZmluZWQiLCJKU09OIiwicGFyc2UiLCJmbiIsInJldml2ZSIsImUiLCJzdG9yZUFQSSIsImFyZWEiLCJnZXRJdGVtIiwic2V0Iiwic3RyaW5nIiwic2V0SXRlbSIsInJlbW92ZSIsInJlbW92ZUl0ZW0iLCJsZW5ndGgiLCJjbGVhciIsIlN0b3JlIiwiaWQiLCJuYW1lc3BhY2UiLCJzdG9yZSIsImRhdGEiLCJvdmVyd3JpdGUiLCJhcmd1bWVudHMiLCJnZXRBbGwiLCJ0cmFuc2FjdCIsImVhY2giLCJzZXRBbGwiLCJfaWQiLCJfYXJlYSIsInN0b3JhZ2UiLCJfbnMiLCJ0aGlzIiwic2luZ2xlQXJlYSIsInN1YnN0cmluZyIsImlzRmFrZSIsInRvU3RyaW5nIiwiaGFzIiwiX2luIiwic2l6ZSIsImtleXMiLCJmaWxsIiwiX291dCIsImZpbGxMaXN0IiwiayIsInYiLCJsaXN0IiwicHVzaCIsImFsdCIsImZpbGxPYmoiLCJhbGwiLCJ2YWwiLCJyZXQiLCJjaGFuZ2VkIiwiYWRkIiwiQXJyYXkiLCJjb25jYXQiLCJ0eXBlIiwiY2xlYXJBbGwiLCJpbmRleE9mIiwic3RvcmFnZUFQSSIsIml0ZW1zIiwibG9jYWxTdG9yYWdlIiwibG9jYWwiLCJzZXNzaW9uU3RvcmFnZSIsImFtZCIsImNvbmZsaWN0IiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiZG9jdW1lbnQiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImJhc2UiLCJjb3VudCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwidXNlU291cmNlTWFwIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiZGVmYXVsdCIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibGVuIiwiYXJyMiIsIkZPQ1VTQUJMRV9FTEVNRU5UUyIsIk1vZGFsIiwiYWN0aXZlTW9kYWwiLCJ2YWxpZGF0ZU1vZGFsUHJlc2VuY2UiLCJ2YWxpZGF0ZUFyZ3MiLCJNaWNyb01vZGFsIiwiX3JlZiIsInRhcmdldE1vZGFsIiwiX3JlZiR0cmlnZ2VycyIsInRyaWdnZXJzIiwiX3JlZiRvblNob3ciLCJvblNob3ciLCJfcmVmJG9uQ2xvc2UiLCJvbkNsb3NlIiwiX3JlZiRvcGVuVHJpZ2dlciIsIm9wZW5UcmlnZ2VyIiwiX3JlZiRjbG9zZVRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJfcmVmJG9wZW5DbGFzcyIsIm9wZW5DbGFzcyIsIl9yZWYkZGlzYWJsZVNjcm9sbCIsImRpc2FibGVTY3JvbGwiLCJfcmVmJGRpc2FibGVGb2N1cyIsImRpc2FibGVGb2N1cyIsIl9yZWYkYXdhaXRDbG9zZUFuaW1hdCIsImF3YWl0Q2xvc2VBbmltYXRpb24iLCJfcmVmJGF3YWl0T3BlbkFuaW1hdGkiLCJhd2FpdE9wZW5BbmltYXRpb24iLCJfcmVmJGRlYnVnTW9kZSIsImRlYnVnTW9kZSIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJtb2RhbCIsImdldEVsZW1lbnRCeUlkIiwiY29uZmlnIiwicmVnaXN0ZXJUcmlnZ2VycyIsImFwcGx5Iiwib25DbGljayIsIm9uS2V5ZG93biIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl90aGlzIiwiX2xlbiIsIl9rZXkiLCJ0cmlnZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd01vZGFsIiwiX3RoaXMyIiwiYWN0aXZlRWxlbWVudCIsImNsYXNzTGlzdCIsInNjcm9sbEJlaGF2aW91ciIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRGb2N1c1RvRmlyc3ROb2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJmb2N1cyIsImNsb3NlTW9kYWwiLCJ0b2dnbGUiLCJib2R5IiwiYXNzaWduIiwib3ZlcmZsb3ciLCJoYXNBdHRyaWJ1dGUiLCJrZXlDb2RlIiwicmV0YWluRm9jdXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdGhpczMiLCJmb2N1c2FibGVOb2RlcyIsImdldEZvY3VzYWJsZU5vZGVzIiwibm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyIsIm5vZGUiLCJvZmZzZXRQYXJlbnQiLCJjb250YWlucyIsImZvY3VzZWRJdGVtSW5kZXgiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsIndhcm4iLCJ0cmlnZ2VyTWFwIiwidmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UiLCJpbml0IiwidHJpZ2dlckF0dHIiLCJnZW5lcmF0ZVRyaWdnZXJNYXAiLCJzaG93IiwiY2xvc2UiLCJjbG9zZU1vZGFsQnlJZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ0b2RvTGlzdCIsInByb2plY3QiLCJ0b2RvIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY29tcGxldGUiLCJwcm9qZWN0RGl2IiwibW9kYWxDb250ZW50IiwibW9kYWxUaXRsZSIsInByb2plY3RMaXN0IiwiZmlyc3RSZW5kZXIiLCJjbGljayIsImNsZWFuUGFnZSIsImVsZW1lbnQiLCJsYXN0Q2hpbGQiLCJzZXROb3RpY2UiLCJ0ZXh0IiwidGV4dENvbnRlbnQiLCJjaGVja0lucHV0cyIsImlucHV0c1Bhc3MiLCJpbnB1dCIsInJlbW92ZVRvZG8iLCJmaWx0ZXJUb2RvIiwicmVuZGVyUHJvamVjdHMiLCJnZXRUb2RvTGlzdCIsInVsIiwibGkiLCJjb21wbGV0ZUJ0biIsImlubmVySFRNTCIsInRvZ2dsZURvbmUiLCJlbnRyaWVzIiwiZGVsQnRuIiwiZWRpdEJ0biIsImNyZWF0ZVRvZG9Gb3JtIiwicmVuZGVyVG9kbyIsImgyIiwiaHIiLCJjcmVhdGVQcm9qZWN0IiwibmV3UHJvamVjdCIsImNyZWF0ZVRvZG8iLCJwcm9qZWN0TmFtZSIsIm5ld1RvZG8iLCJlZGl0ZWQiLCJmb3JtIiwic2VsZWN0IiwiYnIiLCJsYWJlbCIsIm9wdGlvbiIsImJ1dHRvbiIsImNyZWF0ZVByb2plY3RGb3JtIiwiaW5wdXRBcmVhIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FB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RyxFQUFTelAsU0FBUzhCLGNBQWMsVUFDdEMyTixFQUFPL0IsWUFBYyxpQkFDckIwQixFQUFLL00sWUFBWW9OLEdBQ2pCQSxFQUFPN0YsaUJBQWlCLFFBQVNrRixHQUNqQzlCLEVBQWEzSyxZQUFZK00sSUE2RFVWLG1CQXpNdkIsRyxVQ0FoQjFPLFNBQVNLLGNBQWMsb0JBQW9CdUosaUJBQWlCLFFBQVMsSUFBTSxFQUFROEUsZ0JBQWUsRUFBTyxHQUFJLEtBQzdHMU8sU0FBU0ssY0FBYyx1QkFBdUJ1SixpQkFBaUIsUUFBUyxFQUFROEYsbUJBRWhGLEVBQVExQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCIvKiEgc3RvcmUyIC0gdjIuMTEuMiAtIDIwMjAtMDUtMTFcbiogQ29weXJpZ2h0IChjKSAyMDIwIE5hdGhhbiBCdWJuYTsgTGljZW5zZWQgKE1JVCBPUiBHUEwtMy4wKSAqL1xuOyhmdW5jdGlvbih3aW5kb3csIGRlZmluZSkge1xuICAgIHZhciBfID0ge1xuICAgICAgICB2ZXJzaW9uOiBcIjIuMTEuMlwiLFxuICAgICAgICBhcmVhczoge30sXG4gICAgICAgIGFwaXM6IHt9LFxuXG4gICAgICAgIC8vIHV0aWxpdGllc1xuICAgICAgICBpbmhlcml0OiBmdW5jdGlvbihhcGksIG8pIHtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBwLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaSwgcCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9LFxuICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGQgPT09IFwiZnVuY3Rpb25cIiA/IGQrJycgOiBKU09OLnN0cmluZ2lmeShkKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKHMsIGZuKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBkb2Vzbid0IHBhcnNlLCByZXR1cm4gYXMgaXNcbiAgICAgICAgICAgIHRyeXsgcmV0dXJuIEpTT04ucGFyc2Uocyxmbnx8Xy5yZXZpdmUpOyB9Y2F0Y2goZSl7IHJldHVybiBzOyB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gZXh0ZW5zaW9uIGhvb2tzXG4gICAgICAgIGZuOiBmdW5jdGlvbihuYW1lLCBmbikge1xuICAgICAgICAgICAgXy5zdG9yZUFQSVtuYW1lXSA9IGZuO1xuICAgICAgICAgICAgZm9yICh2YXIgYXBpIGluIF8uYXBpcykge1xuICAgICAgICAgICAgICAgIF8uYXBpc1thcGldW25hbWVdID0gZm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oYXJlYSwga2V5KXsgcmV0dXJuIGFyZWEuZ2V0SXRlbShrZXkpOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKGFyZWEsIGtleSwgc3RyaW5nKXsgYXJlYS5zZXRJdGVtKGtleSwgc3RyaW5nKTsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihhcmVhLCBrZXkpeyBhcmVhLnJlbW92ZUl0ZW0oa2V5KTsgfSxcbiAgICAgICAga2V5OiBmdW5jdGlvbihhcmVhLCBpKXsgcmV0dXJuIGFyZWEua2V5KGkpOyB9LFxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uKGFyZWEpeyByZXR1cm4gYXJlYS5sZW5ndGg7IH0sXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbihhcmVhKXsgYXJlYS5jbGVhcigpOyB9LFxuXG4gICAgICAgIC8vIGNvcmUgZnVuY3Rpb25zXG4gICAgICAgIFN0b3JlOiBmdW5jdGlvbihpZCwgYXJlYSwgbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBfLmluaGVyaXQoXy5zdG9yZUFQSSwgZnVuY3Rpb24oa2V5LCBkYXRhLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7IHJldHVybiBzdG9yZS5nZXRBbGwoKTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJmdW5jdGlvblwiKXsgcmV0dXJuIHN0b3JlLnRyYW5zYWN0KGtleSwgZGF0YSwgb3ZlcndyaXRlKTsgfS8vIGZuPWRhdGEsIGFsdD1vdmVyd3JpdGVcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKXsgcmV0dXJuIHN0b3JlLnNldChrZXksIGRhdGEsIG92ZXJ3cml0ZSk7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Yga2V5ID09PSBcIm51bWJlclwiKXsgcmV0dXJuIHN0b3JlLmdldChrZXkpOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwiZnVuY3Rpb25cIil7IHJldHVybiBzdG9yZS5lYWNoKGtleSk7IH1cbiAgICAgICAgICAgICAgICBpZiAoIWtleSl7IHJldHVybiBzdG9yZS5jbGVhcigpOyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLnNldEFsbChrZXksIGRhdGEpOy8vIG92ZXJ3cml0ZT1kYXRhLCBkYXRhPWtleVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdG9yZS5faWQgPSBpZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlc3RLZXkgPSAnXy1iYWQtXyc7XG4gICAgICAgICAgICAgICAgYXJlYS5zZXRJdGVtKHRlc3RLZXksICd3b2xmJyk7XG4gICAgICAgICAgICAgICAgc3RvcmUuX2FyZWEgPSBhcmVhO1xuICAgICAgICAgICAgICAgIGFyZWEucmVtb3ZlSXRlbSh0ZXN0S2V5KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICBpZiAoIXN0b3JlLl9hcmVhKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUuX2FyZWEgPSBfLnN0b3JhZ2UoJ2Zha2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JlLl9ucyA9IG5hbWVzcGFjZSB8fCAnJztcbiAgICAgICAgICAgIGlmICghXy5hcmVhc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBfLmFyZWFzW2lkXSA9IHN0b3JlLl9hcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFfLmFwaXNbc3RvcmUuX25zK3N0b3JlLl9pZF0pIHtcbiAgICAgICAgICAgICAgICBfLmFwaXNbc3RvcmUuX25zK3N0b3JlLl9pZF0gPSBzdG9yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcmVBUEk6IHtcbiAgICAgICAgICAgIC8vIGFkbWluIGZ1bmN0aW9uc1xuICAgICAgICAgICAgYXJlYTogZnVuY3Rpb24oaWQsIGFyZWEpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0aGlzW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0b3JlIHx8ICFzdG9yZS5hcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlID0gXy5TdG9yZShpZCwgYXJlYSwgdGhpcy5fbnMpOy8vbmV3IGFyZWEtc3BlY2lmaWMgYXBpIGluIHRoaXMgbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpc1tpZF0peyB0aGlzW2lkXSA9IHN0b3JlOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYW1lc3BhY2U6IGZ1bmN0aW9uKG5hbWVzcGFjZSwgc2luZ2xlQXJlYSkge1xuICAgICAgICAgICAgICAgIGlmICghbmFtZXNwYWNlKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25zID8gdGhpcy5fbnMuc3Vic3RyaW5nKDAsdGhpcy5fbnMubGVuZ3RoLTEpIDogJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBucyA9IG5hbWVzcGFjZSwgc3RvcmUgPSB0aGlzW25zXTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0b3JlIHx8ICFzdG9yZS5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUgPSBfLlN0b3JlKHRoaXMuX2lkLCB0aGlzLl9hcmVhLCB0aGlzLl9ucytucysnLicpOy8vbmV3IG5hbWVzcGFjZWQgYXBpXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpc1tuc10peyB0aGlzW25zXSA9IHN0b3JlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2luZ2xlQXJlYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBfLmFyZWFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuYXJlYShuYW1lLCBfLmFyZWFzW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNGYWtlOiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5fYXJlYS5uYW1lID09PSAnZmFrZSc7IH0sXG4gICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdzdG9yZScrKHRoaXMuX25zPycuJyt0aGlzLm5hbWVzcGFjZSgpOicnKSsnWycrdGhpcy5faWQrJ10nO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gc3RvcmFnZSBmdW5jdGlvbnNcbiAgICAgICAgICAgIGhhczogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FyZWEuaGFzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcmVhLmhhcyh0aGlzLl9pbihrZXkpKTsvL2V4dGVuc2lvbiBob29rXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhISh0aGlzLl9pbihrZXkpIGluIHRoaXMuX2FyZWEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLmtleXMoKS5sZW5ndGg7IH0sXG4gICAgICAgICAgICBlYWNoOiBmdW5jdGlvbihmbiwgZmlsbCkgey8vIGZpbGwgaXMgdXNlZCBieSBrZXlzKGZpbGxMaXN0KSBhbmQgZ2V0QWxsKGZpbGxMaXN0KSlcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTAsIG09Xy5sZW5ndGgodGhpcy5fYXJlYSk7IGk8bTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLl9vdXQoXy5rZXkodGhpcy5fYXJlYSwgaSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbi5jYWxsKHRoaXMsIGtleSwgdGhpcy5nZXQoa2V5KSwgZmlsbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG0gPiBfLmxlbmd0aCh0aGlzLl9hcmVhKSkgeyBtLS07IGktLTsgfS8vIGluIGNhc2Ugb2YgcmVtb3ZlSXRlbVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsbCB8fCB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleXM6IGZ1bmN0aW9uKGZpbGxMaXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihrLCB2LCBsaXN0KXsgbGlzdC5wdXNoKGspOyB9LCBmaWxsTGlzdCB8fCBbXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXksIGFsdCkge1xuICAgICAgICAgICAgICAgIHZhciBzID0gXy5nZXQodGhpcy5fYXJlYSwgdGhpcy5faW4oa2V5KSksXG4gICAgICAgICAgICAgICAgICAgIGZuO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWx0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBhbHQ7XG4gICAgICAgICAgICAgICAgICAgIGFsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzICE9PSBudWxsID8gXy5wYXJzZShzLCBmbikgOlxuICAgICAgICAgICAgICAgICAgICBhbHQgIT0gbnVsbCA/IGFsdCA6IHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0QWxsOiBmdW5jdGlvbihmaWxsT2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihrLCB2LCBhbGwpeyBhbGxba10gPSB2OyB9LCBmaWxsT2JqIHx8IHt9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2FjdDogZnVuY3Rpb24oa2V5LCBmbiwgYWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0KGtleSwgYWx0KSxcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gZm4odmFsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHJldCA9PT0gdW5kZWZpbmVkID8gdmFsIDogcmV0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgZGF0YSwgb3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChkICE9IG51bGwgJiYgb3ZlcndyaXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uc2V0KHRoaXMuX2FyZWEsIHRoaXMuX2luKGtleSksIF8uc3RyaW5naWZ5KGRhdGEpLCBvdmVyd3JpdGUpIHx8IGQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0QWxsOiBmdW5jdGlvbihkYXRhLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlZCwgdmFsO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0KGtleSwgdmFsLCBvdmVyd3JpdGUpICE9PSB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24oa2V5LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGQuY29uY2F0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gdHlwZW9mIGRhdGEgJiYgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRba10gPSBkYXRhW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZCArIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXy5zZXQodGhpcy5fYXJlYSwgdGhpcy5faW4oa2V5KSwgXy5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5LCBhbHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZ2V0KGtleSwgYWx0KTtcbiAgICAgICAgICAgICAgICBfLnJlbW92ZSh0aGlzLl9hcmVhLCB0aGlzLl9pbihrZXkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ucykge1xuICAgICAgICAgICAgICAgICAgICBfLmNsZWFyKHRoaXMuX2FyZWEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihrKXsgXy5yZW1vdmUodGhpcy5fYXJlYSwgdGhpcy5faW4oaykpOyB9LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmVhID0gdGhpcy5fYXJlYTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiBfLmFyZWFzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmFyZWFzLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXJlYSA9IF8uYXJlYXNbaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2FyZWEgPSBhcmVhO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gaW50ZXJuYWwgdXNlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgX2luOiBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrICE9PSBcInN0cmluZ1wiKXsgayA9IF8uc3RyaW5naWZ5KGspOyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25zID8gdGhpcy5fbnMgKyBrIDogaztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3V0OiBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25zID9cbiAgICAgICAgICAgICAgICAgICAgayAmJiBrLmluZGV4T2YodGhpcy5fbnMpID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGsuc3Vic3RyaW5nKHRoaXMuX25zLmxlbmd0aCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDogLy8gc28gZWFjaCgpIGtub3dzIHRvIHNraXAgaXRcbiAgICAgICAgICAgICAgICAgICAgaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwvLyBlbmQgXy5zdG9yZUFQSVxuICAgICAgICBzdG9yYWdlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5pbmhlcml0KF8uc3RvcmFnZUFQSSwgeyBpdGVtczoge30sIG5hbWU6IG5hbWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JhZ2VBUEk6IHtcbiAgICAgICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgICAgIGhhczogZnVuY3Rpb24oayl7IHJldHVybiB0aGlzLml0ZW1zLmhhc093blByb3BlcnR5KGspOyB9LFxuICAgICAgICAgICAga2V5OiBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5pdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhcyhrKSAmJiBpID09PSBjKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEl0ZW06IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNba10gPSB2O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXMoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaXRlbXNba107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEl0ZW06IGZ1bmN0aW9uKGspeyByZXR1cm4gdGhpcy5oYXMoaykgPyB0aGlzLml0ZW1zW2tdIDogbnVsbDsgfSxcbiAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpeyBmb3IgKHZhciBrIGluIHRoaXMuaXRlbXMpeyB0aGlzLnJlbW92ZUl0ZW0oayk7IH0gfVxuICAgICAgICB9Ly8gZW5kIF8uc3RvcmFnZUFQSVxuICAgIH07XG5cbiAgICB2YXIgc3RvcmUgPVxuICAgICAgICAvLyBzYWZlbHkgc2V0IHRoaXMgdXAgKHRocm93cyBlcnJvciBpbiBJRTEwLzMyYml0IG1vZGUgZm9yIGxvY2FsIGZpbGVzKVxuICAgICAgICBfLlN0b3JlKFwibG9jYWxcIiwgKGZ1bmN0aW9uKCl7dHJ5eyByZXR1cm4gbG9jYWxTdG9yYWdlOyB9Y2F0Y2goZSl7fX0pKCkpO1xuICAgIHN0b3JlLmxvY2FsID0gc3RvcmU7Ly8gZm9yIGNvbXBsZXRlbmVzc1xuICAgIHN0b3JlLl8gPSBfOy8vIGZvciBleHRlbmRlcnMgYW5kIGRlYnVnZ2Vycy4uLlxuICAgIC8vIHNhZmVseSBzZXR1cCBzdG9yZS5zZXNzaW9uICh0aHJvd3MgZXhjZXB0aW9uIGluIEZGIGZvciBmaWxlOi8vLyB1cmxzKVxuICAgIHN0b3JlLmFyZWEoXCJzZXNzaW9uXCIsIChmdW5jdGlvbigpe3RyeXsgcmV0dXJuIHNlc3Npb25TdG9yYWdlOyB9Y2F0Y2goZSl7fX0pKCkpO1xuICAgIHN0b3JlLmFyZWEoXCJwYWdlXCIsIF8uc3RvcmFnZShcInBhZ2VcIikpO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmluZSgnc3RvcmUyJywgW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHN0b3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGV4cG9zZSB0aGUgcHJpbWFyeSBzdG9yZSBmbiB0byB0aGUgZ2xvYmFsIG9iamVjdCBhbmQgc2F2ZSBjb25mbGljdHNcbiAgICAgICAgaWYgKHdpbmRvdy5zdG9yZSl7IF8uY29uZmxpY3QgPSB3aW5kb3cuc3RvcmU7IH1cbiAgICAgICAgd2luZG93LnN0b3JlID0gc3RvcmU7XG4gICAgfVxuXG59KSh0aGlzLCB0aGlzICYmIHRoaXMuZGVmaW5lKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbW9kYWwuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5tb2RhbHtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxhdmVuaXIgbmV4dCxhdmVuaXIsaGVsdmV0aWNhIG5ldWUsaGVsdmV0aWNhLHVidW50dSxyb2JvdG8sbm90byxzZWdvZSB1aSxhcmlhbCxzYW5zLXNlcmlmfS5tb2RhbF9fb3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjYpO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0ubW9kYWxfX2NvbnRhaW5lcntiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzozMHB4O21heC13aWR0aDo1MDBweDttYXgtaGVpZ2h0OjEwMHZoO2JvcmRlci1yYWRpdXM6NHB4O292ZXJmbG93LXk6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3h9Lm1vZGFsX19oZWFkZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0ubW9kYWxfX3RpdGxle21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7Zm9udC13ZWlnaHQ6NjAwO2ZvbnQtc2l6ZToxLjI1cmVtO2xpbmUtaGVpZ2h0OjEuMjU7Y29sb3I6IzAwNDQ5ZTtib3gtc2l6aW5nOmJvcmRlci1ib3h9Lm1vZGFsX19ub3RpY2V7Zm9udC1zaXplOjEycHg7Y29sb3I6cmVkfS5tb2RhbF9fY2xvc2V7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MH0ubW9kYWxfX2hlYWRlciAubW9kYWxfX2Nsb3NlOjpiZWZvcmV7Y29udGVudDpcXFwi4pyVXFxcIn0ubW9kYWxfX2NvbnRlbnR7bWFyZ2luLXRvcDoycmVtO21hcmdpbi1ib3R0b206MnJlbTtsaW5lLWhlaWdodDoxLjU7Y29sb3I6cmdiYSgwLDAsMCwuOCl9Lm1vZGFsX19idG57Zm9udC1zaXplOi44NzVyZW07cGFkZGluZy1sZWZ0OjFyZW07cGFkZGluZy1yaWdodDoxcmVtO3BhZGRpbmctdG9wOi41cmVtO3BhZGRpbmctYm90dG9tOi41cmVtO2JhY2tncm91bmQtY29sb3I6I2U2ZTZlNjtjb2xvcjpyZ2JhKDAsMCwwLC44KTtib3JkZXItcmFkaXVzOi4yNXJlbTtib3JkZXItc3R5bGU6bm9uZTtib3JkZXItd2lkdGg6MDtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uO3RleHQtdHJhbnNmb3JtOm5vbmU7b3ZlcmZsb3c6dmlzaWJsZTtsaW5lLWhlaWdodDoxLjE1O21hcmdpbjowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjtiYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gLjI1cyBlYXNlLW91dDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMjVzIGVhc2Utb3V0O3RyYW5zaXRpb246dHJhbnNmb3JtIC4yNXMgZWFzZS1vdXQsLXdlYmtpdC10cmFuc2Zvcm0gLjI1cyBlYXNlLW91dH0ubW9kYWxfX2J0bjpmb2N1cywubW9kYWxfX2J0bjpob3Zlcnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjA1KTt0cmFuc2Zvcm06c2NhbGUoMS4wNSl9Lm1vZGFsX19idG4tcHJpbWFyeXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDQ0OWU7Y29sb3I6I2ZmZn1Aa2V5ZnJhbWVzIG1tZmFkZUlue2Zyb217b3BhY2l0eTowfXRve29wYWNpdHk6MX19QGtleWZyYW1lcyBtbWZhZGVPdXR7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIG1tc2xpZGVJbntmcm9te3RyYW5zZm9ybTp0cmFuc2xhdGVZKDE1JSl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fUBrZXlmcmFtZXMgbW1zbGlkZU91dHtmcm9te3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfXRve3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMCUpfX0ubWljcm9tb2RhbC1zbGlkZXtkaXNwbGF5Om5vbmV9Lm1pY3JvbW9kYWwtc2xpZGUuaXMtb3BlbntkaXNwbGF5OmJsb2NrfS5taWNyb21vZGFsLXNsaWRlIC5tb2RhbF9fY29udGFpbmVyLC5taWNyb21vZGFsLXNsaWRlIC5tb2RhbF9fb3ZlcmxheXt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19Lm1pY3JvbW9kYWwtc2xpZGVbYXJpYS1oaWRkZW49ZmFsc2VdIC5tb2RhbF9fb3ZlcmxheXthbmltYXRpb246bW1mYWRlSW4gLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpfS5taWNyb21vZGFsLXNsaWRlW2FyaWEtaGlkZGVuPWZhbHNlXSAubW9kYWxfX2NvbnRhaW5lcnthbmltYXRpb246bW1zbGlkZUluIC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKX0ubWljcm9tb2RhbC1zbGlkZVthcmlhLWhpZGRlbj10cnVlXSAubW9kYWxfX292ZXJsYXl7YW5pbWF0aW9uOm1tZmFkZU91dCAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSl9Lm1pY3JvbW9kYWwtc2xpZGVbYXJpYS1oaWRkZW49dHJ1ZV0gLm1vZGFsX19jb250YWluZXJ7YW5pbWF0aW9uOm1tc2xpZGVPdXQgLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpfVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqe2JveC1zaXppbmc6Ym9yZGVyLWJveH1tYWlue3BhZGRpbmc6MTBweH1oMXt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxMCU7Ym94LXNoYWRvdzowIDNweCAwIDAgcmdiYSgwLDAsMCwuNzUpfWgye2NvbG9yOiMxYTJlMjZ9dWx7bGlzdC1zdHlsZTpub25lfWxpe21hcmdpbi1ib3R0b206MjBweH0udG9kby1saXN0LWl0ZW1ze2xpc3Qtc3R5bGUtdHlwZTpub25lO2NvbG9yOiMwNGY7Y3Vyc29yOnBvaW50ZXJ9LnRvZG8tbGlzdC1pdGVtczpob3Zlcntjb2xvcjojNDM0M2FkfWJ1dHRvbntjdXJzb3I6cG9pbnRlcn1cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbnZhciBNaWNyb01vZGFsID0gZnVuY3Rpb24gKCkge1xuXG4gIHZhciBGT0NVU0FCTEVfRUxFTUVOVFMgPSBbJ2FbaHJlZl0nLCAnYXJlYVtocmVmXScsICdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdpZnJhbWUnLCAnb2JqZWN0JywgJ2VtYmVkJywgJ1tjb250ZW50ZWRpdGFibGVdJywgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKSddO1xuXG4gIHZhciBNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kYWwoX3JlZikge1xuICAgICAgdmFyIHRhcmdldE1vZGFsID0gX3JlZi50YXJnZXRNb2RhbCxcbiAgICAgICAgICBfcmVmJHRyaWdnZXJzID0gX3JlZi50cmlnZ2VycyxcbiAgICAgICAgICB0cmlnZ2VycyA9IF9yZWYkdHJpZ2dlcnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiR0cmlnZ2VycyxcbiAgICAgICAgICBfcmVmJG9uU2hvdyA9IF9yZWYub25TaG93LFxuICAgICAgICAgIG9uU2hvdyA9IF9yZWYkb25TaG93ID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkb25TaG93LFxuICAgICAgICAgIF9yZWYkb25DbG9zZSA9IF9yZWYub25DbG9zZSxcbiAgICAgICAgICBvbkNsb3NlID0gX3JlZiRvbkNsb3NlID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkb25DbG9zZSxcbiAgICAgICAgICBfcmVmJG9wZW5UcmlnZ2VyID0gX3JlZi5vcGVuVHJpZ2dlcixcbiAgICAgICAgICBvcGVuVHJpZ2dlciA9IF9yZWYkb3BlblRyaWdnZXIgPT09IHZvaWQgMCA/ICdkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcicgOiBfcmVmJG9wZW5UcmlnZ2VyLFxuICAgICAgICAgIF9yZWYkY2xvc2VUcmlnZ2VyID0gX3JlZi5jbG9zZVRyaWdnZXIsXG4gICAgICAgICAgY2xvc2VUcmlnZ2VyID0gX3JlZiRjbG9zZVRyaWdnZXIgPT09IHZvaWQgMCA/ICdkYXRhLW1pY3JvbW9kYWwtY2xvc2UnIDogX3JlZiRjbG9zZVRyaWdnZXIsXG4gICAgICAgICAgX3JlZiRvcGVuQ2xhc3MgPSBfcmVmLm9wZW5DbGFzcyxcbiAgICAgICAgICBvcGVuQ2xhc3MgPSBfcmVmJG9wZW5DbGFzcyA9PT0gdm9pZCAwID8gJ2lzLW9wZW4nIDogX3JlZiRvcGVuQ2xhc3MsXG4gICAgICAgICAgX3JlZiRkaXNhYmxlU2Nyb2xsID0gX3JlZi5kaXNhYmxlU2Nyb2xsLFxuICAgICAgICAgIGRpc2FibGVTY3JvbGwgPSBfcmVmJGRpc2FibGVTY3JvbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkaXNhYmxlU2Nyb2xsLFxuICAgICAgICAgIF9yZWYkZGlzYWJsZUZvY3VzID0gX3JlZi5kaXNhYmxlRm9jdXMsXG4gICAgICAgICAgZGlzYWJsZUZvY3VzID0gX3JlZiRkaXNhYmxlRm9jdXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkaXNhYmxlRm9jdXMsXG4gICAgICAgICAgX3JlZiRhd2FpdENsb3NlQW5pbWF0ID0gX3JlZi5hd2FpdENsb3NlQW5pbWF0aW9uLFxuICAgICAgICAgIGF3YWl0Q2xvc2VBbmltYXRpb24gPSBfcmVmJGF3YWl0Q2xvc2VBbmltYXQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhd2FpdENsb3NlQW5pbWF0LFxuICAgICAgICAgIF9yZWYkYXdhaXRPcGVuQW5pbWF0aSA9IF9yZWYuYXdhaXRPcGVuQW5pbWF0aW9uLFxuICAgICAgICAgIGF3YWl0T3BlbkFuaW1hdGlvbiA9IF9yZWYkYXdhaXRPcGVuQW5pbWF0aSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGF3YWl0T3BlbkFuaW1hdGksXG4gICAgICAgICAgX3JlZiRkZWJ1Z01vZGUgPSBfcmVmLmRlYnVnTW9kZSxcbiAgICAgICAgICBkZWJ1Z01vZGUgPSBfcmVmJGRlYnVnTW9kZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRlYnVnTW9kZTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgLy8gU2F2ZSBhIHJlZmVyZW5jZSBvZiB0aGUgbW9kYWxcbiAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRNb2RhbCk7IC8vIFNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHBhc3NlZCBjb25maWdcblxuICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgIGRlYnVnTW9kZTogZGVidWdNb2RlLFxuICAgICAgICBkaXNhYmxlU2Nyb2xsOiBkaXNhYmxlU2Nyb2xsLFxuICAgICAgICBvcGVuVHJpZ2dlcjogb3BlblRyaWdnZXIsXG4gICAgICAgIGNsb3NlVHJpZ2dlcjogY2xvc2VUcmlnZ2VyLFxuICAgICAgICBvcGVuQ2xhc3M6IG9wZW5DbGFzcyxcbiAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgICAgIGF3YWl0Q2xvc2VBbmltYXRpb246IGF3YWl0Q2xvc2VBbmltYXRpb24sXG4gICAgICAgIGF3YWl0T3BlbkFuaW1hdGlvbjogYXdhaXRPcGVuQW5pbWF0aW9uLFxuICAgICAgICBkaXNhYmxlRm9jdXM6IGRpc2FibGVGb2N1c1xuICAgICAgfTsgLy8gUmVnaXN0ZXIgY2xpY2sgZXZlbnRzIG9ubHkgaWYgcHJlIGJpbmRpbmcgZXZlbnRMaXN0ZW5lcnNcblxuICAgICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA+IDApIHRoaXMucmVnaXN0ZXJUcmlnZ2Vycy5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkodHJpZ2dlcnMpKTsgLy8gcHJlIGJpbmQgZnVuY3Rpb25zIGZvciBldmVudCBsaXN0ZW5lcnNcblxuICAgICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm9uS2V5ZG93biA9IHRoaXMub25LZXlkb3duLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb3BzIHRocm91Z2ggYWxsIG9wZW5UcmlnZ2VycyBhbmQgYmluZHMgY2xpY2sgZXZlbnRcbiAgICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgW0FycmF5IG9mIG5vZGUgZWxlbWVudHNdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1vZGFsLCBbe1xuICAgICAga2V5OiBcInJlZ2lzdGVyVHJpZ2dlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclRyaWdnZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB0cmlnZ2VycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICB0cmlnZ2Vyc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyaWdnZXJzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNob3dNb2RhbChldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzaG93TW9kYWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuICAgICAgICB0aGlzLnNjcm9sbEJlaGF2aW91cignZGlzYWJsZScpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF3YWl0T3BlbkFuaW1hdGlvbikge1xuICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgIF90aGlzMi5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIF90aGlzMi5zZXRGb2N1c1RvRmlyc3ROb2RlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb25maWcub25TaG93KHRoaXMubW9kYWwsIHRoaXMuYWN0aXZlRWxlbWVudCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgICAgICB2YXIgbW9kYWwgPSB0aGlzLm1vZGFsO1xuICAgICAgICB0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmVoYXZpb3VyKCdlbmFibGUnKTtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVFbGVtZW50ICYmIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cykge1xuICAgICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb25maWcub25DbG9zZSh0aGlzLm1vZGFsLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIGV2ZW50KTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYXdhaXRDbG9zZUFuaW1hdGlvbikge1xuICAgICAgICAgIHZhciBvcGVuQ2xhc3MgPSB0aGlzLmNvbmZpZy5vcGVuQ2xhc3M7IC8vIDwtIG9sZCBzY2hvb2wgZnR3XG5cbiAgICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKG9wZW5DbGFzcyk7XG4gICAgICAgICAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcub3BlbkNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vZGFsQnlJZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWxCeUlkKHRhcmdldE1vZGFsKSB7XG4gICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRNb2RhbCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGFsKSB0aGlzLmNsb3NlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2Nyb2xsQmVoYXZpb3VyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsQmVoYXZpb3VyKHRvZ2dsZSkge1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmRpc2FibGVTY3JvbGwpIHJldHVybjtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cbiAgICAgICAgc3dpdGNoICh0b2dnbGUpIHtcbiAgICAgICAgICBjYXNlICdlbmFibGUnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2Rpc2FibGUnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRFdmVudExpc3RlbmVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlkb3duKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKHRoaXMuY29uZmlnLmNsb3NlVHJpZ2dlcikpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5ZG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMjcpIHRoaXMuY2xvc2VNb2RhbChldmVudCk7IC8vIGVzY1xuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSA5KSB0aGlzLnJldGFpbkZvY3VzKGV2ZW50KTsgLy8gdGFiXG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEZvY3VzYWJsZU5vZGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlTm9kZXMoKSB7XG4gICAgICAgIHZhciBub2RlcyA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvckFsbChGT0NVU0FCTEVfRUxFTUVOVFMpO1xuICAgICAgICByZXR1cm4gQXJyYXkuYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkobm9kZXMpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVHJpZXMgdG8gc2V0IGZvY3VzIG9uIGEgbm9kZSB3aGljaCBpcyBub3QgYSBjbG9zZSB0cmlnZ2VyXG4gICAgICAgKiBpZiBubyBvdGhlciBub2RlcyBleGlzdCB0aGVuIGZvY3VzZXMgb24gZmlyc3QgY2xvc2UgdHJpZ2dlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0Rm9jdXNUb0ZpcnN0Tm9kZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZvY3VzVG9GaXJzdE5vZGUoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5kaXNhYmxlRm9jdXMpIHJldHVybjtcbiAgICAgICAgdmFyIGZvY3VzYWJsZU5vZGVzID0gdGhpcy5nZXRGb2N1c2FibGVOb2RlcygpOyAvLyBubyBmb2N1c2FibGUgbm9kZXNcblxuICAgICAgICBpZiAoZm9jdXNhYmxlTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIHJlbW92ZSBub2RlcyBvbiB3aG9zZSBjbGljaywgdGhlIG1vZGFsIGNsb3Nlc1xuICAgICAgICAvLyBjb3VsZCBub3QgdGhpbmsgb2YgYSBiZXR0ZXIgbmFtZSA6KFxuXG4gICAgICAgIHZhciBub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzID0gZm9jdXNhYmxlTm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuICFub2RlLmhhc0F0dHJpYnV0ZShfdGhpczMuY29uZmlnLmNsb3NlVHJpZ2dlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cy5sZW5ndGggPiAwKSBub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzWzBdLmZvY3VzKCk7XG4gICAgICAgIGlmIChub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzLmxlbmd0aCA9PT0gMCkgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmV0YWluRm9jdXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXRhaW5Gb2N1cyhldmVudCkge1xuICAgICAgICB2YXIgZm9jdXNhYmxlTm9kZXMgPSB0aGlzLmdldEZvY3VzYWJsZU5vZGVzKCk7IC8vIG5vIGZvY3VzYWJsZSBub2Rlc1xuXG4gICAgICAgIGlmIChmb2N1c2FibGVOb2Rlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbHRlcnMgbm9kZXMgd2hpY2ggYXJlIGhpZGRlbiB0byBwcmV2ZW50XG4gICAgICAgICAqIGZvY3VzIGxlYWsgb3V0c2lkZSBtb2RhbFxuICAgICAgICAgKi9cblxuICAgICAgICBmb2N1c2FibGVOb2RlcyA9IGZvY3VzYWJsZU5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBub2RlLm9mZnNldFBhcmVudCAhPT0gbnVsbDtcbiAgICAgICAgfSk7IC8vIGlmIGRpc2FibGVGb2N1cyBpcyB0cnVlXG5cbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZm9jdXNlZEl0ZW1JbmRleCA9IGZvY3VzYWJsZU5vZGVzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNlZEl0ZW1JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgZm9jdXNhYmxlTm9kZXNbZm9jdXNhYmxlTm9kZXMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSAmJiBmb2N1c2FibGVOb2Rlcy5sZW5ndGggPiAwICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IGZvY3VzYWJsZU5vZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNb2RhbDtcbiAgfSgpO1xuICAvKipcbiAgICogTW9kYWwgcHJvdG90eXBlIGVuZHMuXG4gICAqIEhlcmUgb24gY29kZSBpcyByZXNwb25zaWJsZSBmb3IgZGV0ZWN0aW5nIGFuZFxuICAgKiBhdXRvIGJpbmRpbmcgZXZlbnQgaGFuZGxlcnMgb24gbW9kYWwgdHJpZ2dlcnNcbiAgICovXG4gIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9wZW5lZCBtb2RhbFxuXG5cbiAgdmFyIGFjdGl2ZU1vZGFsID0gbnVsbDtcbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiBtb2RhbHMgYW5kIGl0J3NcbiAgICogcmVzcGVjdGl2ZSB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgICAgIEFuIGFycmF5IG9mIGFsbCB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRyaWdnZXJBdHRyIFRoZSBkYXRhLWF0dHJpYnV0ZSB3aGljaCB0cmlnZ2VycyB0aGUgbW9kdWxlXG4gICAqIEByZXR1cm4ge2FycmF5fVxuICAgKi9cblxuICB2YXIgZ2VuZXJhdGVUcmlnZ2VyTWFwID0gZnVuY3Rpb24gZ2VuZXJhdGVUcmlnZ2VyTWFwKHRyaWdnZXJzLCB0cmlnZ2VyQXR0cikge1xuICAgIHZhciB0cmlnZ2VyTWFwID0gW107XG4gICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgdmFyIHRhcmdldE1vZGFsID0gdHJpZ2dlci5hdHRyaWJ1dGVzW3RyaWdnZXJBdHRyXS52YWx1ZTtcbiAgICAgIGlmICh0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXSA9PT0gdW5kZWZpbmVkKSB0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXSA9IFtdO1xuICAgICAgdHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0ucHVzaCh0cmlnZ2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJpZ2dlck1hcDtcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB3aGV0aGVyIGEgbW9kYWwgb2YgdGhlIGdpdmVuIGlkIGV4aXN0c1xuICAgKiBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge251bWJlcn0gaWQgIFRoZSBpZCBvZiB0aGUgbW9kYWxcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVNb2RhbFByZXNlbmNlID0gZnVuY3Rpb24gdmFsaWRhdGVNb2RhbFByZXNlbmNlKGlkKSB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWw6IFxcdTI3NTdTZWVtcyBsaWtlIHlvdSBoYXZlIG1pc3NlZCAlYydcIi5jb25jYXQoaWQsIFwiJ1wiKSwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgJ0lEIHNvbWV3aGVyZSBpbiB5b3VyIGNvZGUuIFJlZmVyIGV4YW1wbGUgYmVsb3cgdG8gcmVzb2x2ZSBpdC4nKTtcbiAgICAgIGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbFxcXCIgaWQ9XFxcIlwiLmNvbmNhdChpZCwgXCJcXFwiPjwvZGl2PlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGVzIGlmIHRoZXJlIGFyZSBtb2RhbCB0cmlnZ2VycyBwcmVzZW50XG4gICAqIGluIHRoZSBET01cbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzIEFuIGFycmF5IG9mIGRhdGEtdHJpZ2dlcnNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UgPSBmdW5jdGlvbiB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSh0cmlnZ2Vycykge1xuICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPD0gMCkge1xuICAgICAgY29uc29sZS53YXJuKFwiTWljcm9Nb2RhbDogXFx1Mjc1N1BsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSAlYydtaWNyb21vZGFsLXRyaWdnZXInXCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsICdkYXRhIGF0dHJpYnV0ZS4nKTtcbiAgICAgIGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgXCI8YSBocmVmPVxcXCIjXFxcIiBkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcj1cXFwibXktbW9kYWxcXFwiPjwvYT5cIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2tzIGlmIHRyaWdnZXJzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG1vZGFsc1xuICAgKiBhcmUgcHJlc2VudCBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyAgIEFycmF5IG9mIERPTSBub2RlcyB3aGljaCBoYXZlIGRhdGEtdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJNYXAgQXNzb2NpYXRpdmUgYXJyYXkgb2YgbW9kYWxzIGFuZCB0aGVpciB0cmlnZ2Vyc1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciB2YWxpZGF0ZUFyZ3MgPSBmdW5jdGlvbiB2YWxpZGF0ZUFyZ3ModHJpZ2dlcnMsIHRyaWdnZXJNYXApIHtcbiAgICB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSh0cmlnZ2Vycyk7XG4gICAgaWYgKCF0cmlnZ2VyTWFwKSByZXR1cm4gdHJ1ZTtcblxuICAgIGZvciAodmFyIGlkIGluIHRyaWdnZXJNYXApIHtcbiAgICAgIHZhbGlkYXRlTW9kYWxQcmVzZW5jZShpZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBCaW5kcyBjbGljayBoYW5kbGVycyB0byBhbGwgbW9kYWwgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7b2JqZWN0fSBjb25maWcgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG5cblxuICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoY29uZmlnKSB7XG4gICAgLy8gQ3JlYXRlIGFuIGNvbmZpZyBvYmplY3Qgd2l0aCBkZWZhdWx0IG9wZW5UcmlnZ2VyXG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICBvcGVuVHJpZ2dlcjogJ2RhdGEtbWljcm9tb2RhbC10cmlnZ2VyJ1xuICAgIH0sIGNvbmZpZyk7IC8vIENvbGxlY3RzIGFsbCB0aGUgbm9kZXMgd2l0aCB0aGUgdHJpZ2dlclxuXG4gICAgdmFyIHRyaWdnZXJzID0gX3RvQ29uc3VtYWJsZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIuY29uY2F0KG9wdGlvbnMub3BlblRyaWdnZXIsIFwiXVwiKSkpOyAvLyBNYWtlcyBhIG1hcHBpbmdzIG9mIG1vZGFscyB3aXRoIHRoZWlyIHRyaWdnZXIgbm9kZXNcblxuXG4gICAgdmFyIHRyaWdnZXJNYXAgPSBnZW5lcmF0ZVRyaWdnZXJNYXAodHJpZ2dlcnMsIG9wdGlvbnMub3BlblRyaWdnZXIpOyAvLyBDaGVja3MgaWYgbW9kYWxzIGFuZCB0cmlnZ2VycyBleGlzdCBpbiBkb21cblxuICAgIGlmIChvcHRpb25zLmRlYnVnTW9kZSA9PT0gdHJ1ZSAmJiB2YWxpZGF0ZUFyZ3ModHJpZ2dlcnMsIHRyaWdnZXJNYXApID09PSBmYWxzZSkgcmV0dXJuOyAvLyBGb3IgZXZlcnkgdGFyZ2V0IG1vZGFsIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2VcblxuICAgIGZvciAodmFyIGtleSBpbiB0cmlnZ2VyTWFwKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0cmlnZ2VyTWFwW2tleV07XG4gICAgICBvcHRpb25zLnRhcmdldE1vZGFsID0ga2V5O1xuICAgICAgb3B0aW9ucy50cmlnZ2VycyA9IF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZSk7XG4gICAgICBhY3RpdmVNb2RhbCA9IG5ldyBNb2RhbChvcHRpb25zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTaG93cyBhIHBhcnRpY3VsYXIgbW9kYWxcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YXJnZXRNb2RhbCBbVGhlIGlkIG9mIHRoZSBtb2RhbCB0byBkaXNwbGF5XVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZyBbVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIHBhc3NdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KHRhcmdldE1vZGFsLCBjb25maWcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGNvbmZpZyB8fCB7fTtcbiAgICBvcHRpb25zLnRhcmdldE1vZGFsID0gdGFyZ2V0TW9kYWw7IC8vIENoZWNrcyBpZiBtb2RhbHMgYW5kIHRyaWdnZXJzIGV4aXN0IGluIGRvbVxuXG4gICAgaWYgKG9wdGlvbnMuZGVidWdNb2RlID09PSB0cnVlICYmIHZhbGlkYXRlTW9kYWxQcmVzZW5jZSh0YXJnZXRNb2RhbCkgPT09IGZhbHNlKSByZXR1cm47IC8vIGNsZWFyIGV2ZW50cyBpbiBjYXNlIHByZXZpb3VzIG1vZGFsIHdhc24ndCBjbG9zZVxuXG4gICAgaWYgKGFjdGl2ZU1vZGFsKSBhY3RpdmVNb2RhbC5yZW1vdmVFdmVudExpc3RlbmVycygpOyAvLyBzdG9yZXMgcmVmZXJlbmNlIHRvIGFjdGl2ZSBtb2RhbFxuXG4gICAgYWN0aXZlTW9kYWwgPSBuZXcgTW9kYWwob3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cbiAgICBhY3RpdmVNb2RhbC5zaG93TW9kYWwoKTtcbiAgfTtcbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgYWN0aXZlIG1vZGFsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0TW9kYWwgW1RoZSBpZCBvZiB0aGUgbW9kYWwgdG8gY2xvc2VdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UodGFyZ2V0TW9kYWwpIHtcbiAgICB0YXJnZXRNb2RhbCA/IGFjdGl2ZU1vZGFsLmNsb3NlTW9kYWxCeUlkKHRhcmdldE1vZGFsKSA6IGFjdGl2ZU1vZGFsLmNsb3NlTW9kYWwoKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGluaXQ6IGluaXQsXG4gICAgc2hvdzogc2hvdyxcbiAgICBjbG9zZTogY2xvc2VcbiAgfTtcbn0oKTtcbndpbmRvdy5NaWNyb01vZGFsID0gTWljcm9Nb2RhbDtcblxuZXhwb3J0IGRlZmF1bHQgTWljcm9Nb2RhbDtcbiIsImNsYXNzIFByb2plY3Qge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMudG9kb0xpc3QgPSBbXTtcbiAgfVxuXG4gIHN0YXRpYyBmaWx0ZXJUb2RvKHByb2plY3QsIHRvZG8pIHtcbiAgICBwcm9qZWN0LnRvZG9MaXN0ID0gcHJvamVjdC50b2RvTGlzdC5maWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPT0gdG9kbyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdDsiLCJjbGFzcyBUb2RvIHtcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSA9IDAsIGNvbXBsZXRlID0gZmFsc2UpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMuY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvOyIsImltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlMic7XG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3RzJztcbmltcG9ydCBUb2RvIGZyb20gJy4vdG9kb3MnO1xuXG5jb25zdCBEaXNwbGF5ID0gKCgpID0+IHtcbiAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0cycpO1xuICBjb25zdCBtb2RhbENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRlbnQnKTtcbiAgY29uc3QgbW9kYWxUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fdGl0bGUnKTtcbiAgY29uc3QgZGVmYXVsdFByb2plY3QgPSBuZXcgUHJvamVjdCgnZGVmYXVsdCcsICdUaGlzIGlzIHRoZSBkZWZhdWx0IHRvRG8gbGlzdCcpO1xuICBsZXQgcHJvamVjdExpc3QgPSBbZGVmYXVsdFByb2plY3RdO1xuXG4gIGxldCBmaXJzdFJlbmRlciA9IHRydWU7XG5cbiAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYnRuJykuY2xpY2soKTtcblxuICBjb25zdCBjbGVhblBhZ2UgPSAoZWxlbWVudCkgPT4ge1xuICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXROb3RpY2UgPSAodGV4dCkgPT4ge1xuICAgIGNvbnN0IHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX25vdGljZScpO1xuICAgIHAudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9O1xuXG4gIGNvbnN0IGNoZWNrSW5wdXRzID0gKGFycikgPT4ge1xuICAgIGxldCBpbnB1dHNQYXNzID0gdHJ1ZTtcbiAgICBhcnIuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpZiAoaW5wdXQubGVuZ3RoIDwgMSkgeyBpbnB1dHNQYXNzID0gZmFsc2U7IH1cbiAgICB9KTtcbiAgICBpZiAoaW5wdXRzUGFzcyA9PT0gZmFsc2UpIHtcbiAgICAgIHNldE5vdGljZSgnQWxsIGZpZWxkcyBSZXF1aXJlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRzUGFzcztcbiAgfTtcblxuICBjb25zdCByZW1vdmVUb2RvID0gKHByb2plY3QsIHRvZG8pID0+IHtcbiAgICBQcm9qZWN0LmZpbHRlclRvZG8ocHJvamVjdCwgdG9kbyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmVuZGVyUHJvamVjdHMoKTtcbiAgICBjbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyVG9kbyA9ICh0b2RvLCBwcm9qZWN0KSA9PiB7XG4gICAgY2xlYW5QYWdlKG1vZGFsQ29udGVudCk7XG4gICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IHRvZG8udGl0bGU7XG4gICAgT2JqZWN0LmVudHJpZXModG9kbykuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gYCR7aXRlbVswXX06ICR7aXRlbVsxXX1gO1xuICAgICAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBkZWxCdG4udGV4dENvbnRlbnQgPSAnUmVtb3ZlIFRvZG8nO1xuICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChkZWxCdG4pO1xuICAgIGRlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbW92ZVRvZG8ocHJvamVjdCwgdG9kbykpO1xuICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSAnRWRpdCBUb2RvJztcbiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNyZWF0ZVRvZG9Gb3JtKHRydWUsIHRvZG8sIHByb2plY3QpKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVEb25lID0gKHRvZG8pID0+IHtcbiAgICB0b2RvLmNvbXBsZXRlID0gIXRvZG8uY29tcGxldGU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmVuZGVyUHJvamVjdHMoKTtcbiAgfTtcblxuICBjb25zdCBnZXRUb2RvTGlzdCA9IChwcm9qZWN0KSA9PiB7XG4gICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHByb2plY3QudG9kb0xpc3QuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGNvbnN0IGNvbXBsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBjb21wbGV0ZUJ0bi50ZXh0Q29udGVudCA9IGAke3RvZG8uY29tcGxldGUgPyAnRG9uZScgOiAnTm90IERvbmUnfWA7XG4gICAgICBsaS5pbm5lckhUTUwgPSBgPHN0cm9uZz4ke3RvZG8udGl0bGV9PC9zdHJvbmc+IC0gRHVlOiAke3RvZG8uZHVlRGF0ZX1gO1xuICAgICAgdWwuYXBwZW5kQ2hpbGQoY29tcGxldGVCdG4pO1xuICAgICAgY29tcGxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVEb25lKHRvZG8pKTtcbiAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3RvZG8tbGlzdC1pdGVtcycpO1xuICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiByZW5kZXJUb2RvKHRvZG8sIHByb2plY3QpKTtcbiAgICAgIGxpLnNldEF0dHJpYnV0ZSgnZGF0YS1taWNyb21vZGFsLXRyaWdnZXInLCAnbW9kYWwtMScpO1xuICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bDtcbiAgfTtcblxuICBjb25zdCBsb2NhbFN0b3JhZ2VDb250cm9sbGVyID0gKCkgPT4ge1xuICAgIGlmIChzdG9yZSgncHJvamVjdHMnKSAmJiBmaXJzdFJlbmRlcikge1xuICAgICAgcHJvamVjdExpc3QgPSBzdG9yZSgncHJvamVjdHMnKTtcbiAgICAgIGZpcnN0UmVuZGVyID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlKCdwcm9qZWN0cycsIHByb2plY3RMaXN0KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgY2xlYW5QYWdlKHByb2plY3REaXYpO1xuICAgIGxvY2FsU3RvcmFnZUNvbnRyb2xsZXIoKTtcblxuICAgIHByb2plY3RMaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgICBjb25zdCBociA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hyJyk7XG4gICAgICBoMi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKGgyKTtcbiAgICAgIGNvbnN0IHVsID0gZ2V0VG9kb0xpc3QocHJvamVjdCk7XG4gICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHVsKTtcbiAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQoaHIpO1xuICAgICAgTWljcm9Nb2RhbC5pbml0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC10aXRsZScpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtZGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICBpZiAoIWNoZWNrSW5wdXRzKFt0aXRsZSwgZGVzY3JpcHRpb25dKSkgeyByZXR1cm47IH1cbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QodGl0bGUsIGRlc2NyaXB0aW9uKTtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5ld1Byb2plY3QpO1xuICAgIHJlbmRlclByb2plY3RzKCk7XG4gICAgY2xvc2VNb2RhbCgpO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVByb2plY3RGb3JtID0gKCkgPT4ge1xuICAgIHNldE5vdGljZSgnJyk7XG4gICAgY2xlYW5QYWdlKG1vZGFsQ29udGVudCk7XG4gICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9ICdBZGQgUHJvamVjdCc7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICBjb25zdCBpbnB1dHMgPSBbJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJ107XG4gICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgY29uc3QgYnIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpO1xuICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBpbnB1dDtcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChicik7XG4gICAgICBjb25zdCBpbnB1dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wdXRBcmVhLnRleHRDb250ZW50ID0gaW5wdXQ7XG4gICAgICBpbnB1dEFyZWEuY2xhc3NMaXN0LmFkZChgcHJvamVjdC0ke2lucHV0fWApO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dEFyZWEpO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChicik7XG4gICAgfSk7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0NyZWF0ZSBQcm9qZWN0JztcbiAgICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlUHJvamVjdCk7XG4gICAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGZvcm0pO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVRvZG8gPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tcHJvamVjdCcpLnZhbHVlO1xuICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0TGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnRpdGxlID09PSBwcm9qZWN0TmFtZSk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby10aXRsZScpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tZGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tZHVlRGF0ZScpLnZhbHVlO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInByaW9yaXR5XCJdOmNoZWNrZWQnKS50ZXh0Q29udGVudDtcbiAgICBpZiAoIWNoZWNrSW5wdXRzKFt0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5XSkpIHsgcmV0dXJuOyB9XG4gICAgY29uc3QgbmV3VG9kbyA9IG5ldyBUb2RvKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xuICAgIHByb2plY3RbMF0udG9kb0xpc3QucHVzaChuZXdUb2RvKTtcbiAgICByZW5kZXJQcm9qZWN0cygpO1xuICAgIGNsb3NlTW9kYWwoKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlVG9kb0Zvcm0gPSAoZWRpdGVkLCB0b2RvLCBwcm9qZWN0KSA9PiB7XG4gICAgc2V0Tm90aWNlKCcnKTtcbiAgICBjbGVhblBhZ2UobW9kYWxDb250ZW50KTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGNvbnN0IGlucHV0cyA9IFtbJ1RpdGxlJywgJ3RleHQnLCAndGl0bGUnXSwgWydEZXNjcmlwdGlvbicsICd0ZXh0JywgJ2Rlc2NyaXB0aW9uJ10sIFsnRHVlRGF0ZScsICdkYXRlJywgJ2R1ZURhdGUnXSwgWydMb3cnLCAncmFkaW8nLCAncHJpb3JpdHknXSwgWydNZWRpdW0nLCAncmFkaW8nLCAncHJpb3JpdHknXSwgWydIaWdoJywgJ3JhZGlvJywgJ3ByaW9yaXR5J11dO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgIHNlbGVjdC5jbGFzc0xpc3QuYWRkKCd0b2RvLXByb2plY3QnKTtcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBjb25zdCBiciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XG4gICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gaW5wdXRbMF07XG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnIpO1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBbZWxlbWVudC50ZXh0Q29udGVudCwgZWxlbWVudC50eXBlLCBlbGVtZW50Lm5hbWVdID0gaW5wdXQ7XG4gICAgICBpZiAoZWRpdGVkKSB7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSB0b2RvW2lucHV0WzJdXTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChgdG9kby0ke2lucHV0WzJdfWApO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnIpO1xuICAgIH0pO1xuICAgIHByb2plY3RMaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKHNlbGVjdCk7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgaWYgKCFlZGl0ZWQpIHtcbiAgICAgIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSAnQWRkIFRvZG8nO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0NyZWF0ZSBUb2RvJztcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9ICdFZGl0IFRvZG8nO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0ZpbmlzaGVkIEVkaXQnO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlVG9kbyhwcm9qZWN0LCB0b2RvKSk7XG4gICAgfVxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNyZWF0ZVRvZG8pO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXJQcm9qZWN0cywgY3JlYXRlUHJvamVjdEZvcm0sIGNyZWF0ZVRvZG9Gb3JtLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheTsiLCJpbXBvcnQgRGlzcGxheSBmcm9tICcuL2RvbSc7XG5cbmltcG9ydCAnLi9tb2RhbC5zY3NzJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZS10b2RvLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gRGlzcGxheS5jcmVhdGVUb2RvRm9ybShmYWxzZSwge30sIHt9KSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlLXByb2plY3QtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBEaXNwbGF5LmNyZWF0ZVByb2plY3RGb3JtKTtcblxuRGlzcGxheS5yZW5kZXJQcm9qZWN0cygpOyJdLCJzb3VyY2VSb290IjoiIn0=