!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){!function(t,n){var o={version:"2.11.2",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e,t){try{return JSON.parse(e,t||o.revive)}catch(t){return e}},fn:function(e,t){for(var n in o.storeAPI[e]=t,o.apis)o.apis[n][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,n){var i=o.inherit(o.storeAPI,(function(e,t,n){return 0===arguments.length?i.getAll():"function"==typeof t?i.transact(e,t,n):void 0!==t?i.set(e,t,n):"string"==typeof e||"number"==typeof e?i.get(e):"function"==typeof e?i.each(e):e?i.setAll(e,t):i.clear()}));i._id=e;try{t.setItem("_-bad-_","wolf"),i._area=t,t.removeItem("_-bad-_")}catch(e){}return i._area||(i._area=o.storage("fake")),i._ns=n||"",o.areas[e]||(o.areas[e]=i._area),o.apis[i._ns+i._id]||(o.apis[i._ns+i._id]=i),i},storeAPI:{area:function(e,t){var n=this[e];return n&&n.area||(n=o.Store(e,t,this._ns),this[e]||(this[e]=n)),n},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=e,i=this[n];if(!(i&&i.namespace||(i=o.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=i),t)))for(var r in o.areas)i.area(r,o.areas[r]);return i},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var n=0,i=o.length(this._area);n<i;n++){var r=this._out(o.key(this._area,n));if(void 0!==r&&!1===e.call(this,r,this.get(r),t))break;i>o.length(this._area)&&(i--,n--)}return t||this},keys:function(e){return this.each((function(e,t,n){n.push(e)}),e||[])},get:function(e,t){var n,i=o.get(this._area,this._in(e));return"function"==typeof t&&(n=t,t=null),null!==i?o.parse(i,n):null!=t?t:i},getAll:function(e){return this.each((function(e,t,n){n[e]=t}),e||{})},transact:function(e,t,n){var o=this.get(e,n),i=t(o);return this.set(e,void 0===i?o:i),this},set:function(e,t,n){var i=this.get(e);return null!=i&&!1===n?t:o.set(this._area,this._in(e),o.stringify(t),n)||i},setAll:function(e,t){var n,o;for(var i in e)o=e[i],this.set(i,o,t)!==o&&(n=!0);return n},add:function(e,t){var n=this.get(e);if(n instanceof Array)t=n.concat(t);else if(null!==n){var i=typeof n;if(i===typeof t&&"object"===i){for(var r in t)n[r]=t[r];t=n}else t=n+t}return o.set(this._area,this._in(e),o.stringify(t)),t},remove:function(e,t){var n=this.get(e,t);return o.remove(this._area,this._in(e)),n},clear:function(){return this._ns?this.each((function(e){o.remove(this._area,this._in(e))}),1):o.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in o.areas)o.areas.hasOwnProperty(t)&&(this._area=o.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=o.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return o.inherit(o.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},i=o.Store("local",function(){try{return localStorage}catch(e){}}());i.local=i,i._=o,i.area("session",function(){try{return sessionStorage}catch(e){}}()),i.area("page",o.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return i})):e.exports?e.exports=i:(t.store&&(o.conflict=t.store),t.store=i)}(this,this&&this.define)},function(e,t,n){var o=n(2),i=n(3);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};o(i,r);e.exports=i.locals||{}},function(e,t,n){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],i=0;i<e.length;i++){var r=e[i],c=t.base?r[0]+t.base:r[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var u=s(d),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:d,updater:p(f,t),references:1}),o.push(d)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function f(e,t,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function h(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,v=0;function p(e,t){var n,o,i;if(t.singleton){var r=v++;n=m||(m=l(t)),o=f.bind(null,n,r,!1),i=f.bind(null,n,r,!0)}else n=l(t),o=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var i=s(n[o]);a[i].references--}for(var r=c(e,t),l=0;l<n.length;l++){var d=s(n[l]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=r}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,'*{box-sizing:border-box}.todo-list-items{list-style-type:none;text-decoration:underline;color:blue;cursor:pointer}button{cursor:pointer}.modal{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif}.modal__overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center}.modal__container{background-color:#fff;padding:30px;max-width:500px;max-height:100vh;border-radius:4px;overflow-y:auto;box-sizing:border-box}.modal__header{display:flex;justify-content:space-between;align-items:center}.modal__title{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.25rem;line-height:1.25;color:#00449e;box-sizing:border-box}.modal__close{background:transparent;border:0}.modal__header .modal__close::before{content:"✕"}.modal__content{margin-top:2rem;margin-bottom:2rem;line-height:1.5;color:rgba(0,0,0,.8)}.modal__btn{font-size:.875rem;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;background-color:#e6e6e6;color:rgba(0,0,0,.8);border-radius:.25rem;border-style:none;border-width:0;cursor:pointer;-webkit-appearance:button;text-transform:none;overflow:visible;line-height:1.15;margin:0;will-change:transform;-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.modal__btn:focus,.modal__btn:hover{-webkit-transform:scale(1.05);transform:scale(1.05)}.modal__btn-primary{background-color:#00449e;color:#fff}@keyframes mmfadeIn{from{opacity:0}to{opacity:1}}@keyframes mmfadeOut{from{opacity:1}to{opacity:0}}@keyframes mmslideIn{from{transform:translateY(15%)}to{transform:translateY(0)}}@keyframes mmslideOut{from{transform:translateY(0)}to{transform:translateY(-10%)}}.micromodal-slide{display:none}.micromodal-slide.is-open{display:block}.micromodal-slide[aria-hidden=false] .modal__overlay{animation:mmfadeIn .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=false] .modal__container{animation:mmslideIn .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=true] .modal__overlay{animation:mmfadeOut .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide[aria-hidden=true] .modal__container{animation:mmslideOut .3s cubic-bezier(0, 0, 0.2, 1)}.micromodal-slide .modal__container,.micromodal-slide .modal__overlay{will-change:transform}',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.r(t);var a,s,c,l,d,u=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var n=t.targetModal,o=t.triggers,r=void 0===o?[]:o,a=t.onShow,s=void 0===a?function(){}:a,c=t.onClose,l=void 0===c?function(){}:c,d=t.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=t.closeTrigger,h=void 0===f?"data-micromodal-close":f,m=t.openClass,v=void 0===m?"is-open":m,p=t.disableScroll,g=void 0!==p&&p,b=t.disableFocus,y=void 0!==b&&b,_=t.awaitCloseAnimation,w=void 0!==_&&_,k=t.awaitOpenAnimation,E=void 0!==k&&k,C=t.debugMode,x=void 0!==C&&C;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(n),this.config={debugMode:x,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:v,onShow:s,onClose:l,awaitCloseAnimation:w,awaitOpenAnimation:E,disableFocus:y},r.length>0&&this.registerTriggers.apply(this,i(r)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,n,r;return t=e,(n=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,i(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&o(t.prototype,n),r&&o(t,r),e}(),c=null,l=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},d=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)l(n);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=i(document.querySelectorAll("[".concat(t.openTrigger,"]"))),o=function(e,t){var n=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===n[o]&&(n[o]=[]),n[o].push(e)})),n}(n,t.openTrigger);if(!0!==t.debugMode||!1!==d(n,o))for(var r in o){var a=o[r];t.targetModal=r,t.triggers=i(a),c=new s(t)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===l(e)||(c&&c.removeEventListeners(),(c=new s(n)).showModal())},close:function(e){e?c.closeModalById(e):c.closeModal()}});window.MicroModal=u;var f=u,h=n(0),m=n.n(h);n(1);var v=class{constructor(e,t){this.title=e,this.description=t,this.todoList=[]}};var p=class{constructor(e,t,n,o=0,i=!1){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.complete=i}};const g=document.querySelector("#projects"),b=document.querySelector(".modal__content"),y=document.querySelector(".modal__title"),_=new v("default","This is the default toDo list"),w=new p("test","test","ddffdsd","dddddddd");_.todoList.push(w);let k=[_],E=!1;const C=e=>{for(;e.firstChild;)e.removeChild(e.lastChild)},x=(e,t)=>{e.todoList=e.todoList.filter(e=>e!==t),L(),S()},S=()=>document.querySelector(".modal__btn").click(),j=e=>{const t=document.createElement("ul");return e.todoList.forEach(n=>{const o=document.createElement("li");o.textContent=`${n.title} - Due: ${n.dueDate}`,o.classList.add("todo-list-items"),o.addEventListener("click",()=>((e,t)=>{C(b),y.textContent=e.title,Object.entries(e).forEach(e=>{const t=document.createElement("p");t.textContent=`${e[0]}: ${e[1]}`,b.appendChild(t)});const n=document.createElement("button"),o=document.createElement("button");n.textContent="Remove Todo",b.appendChild(n),n.addEventListener("click",()=>x(t,e)),o.textContent="Edit Todo",b.appendChild(o),o.addEventListener("click",()=>O(t,e))})(n,e)),o.setAttribute("data-micromodal-trigger","modal-1"),t.appendChild(o)}),t},L=()=>{C(g),window.localStorage.getItem("projects")&&!1===E?(k=m()("projects"),E=!0):m()("projects",k),k.forEach(e=>{const t=document.createElement("h2");t.textContent=e.title,g.appendChild(t);const n=j(e);g.appendChild(n),f.init()})},A=e=>{e.preventDefault();const t=document.querySelector(".project-title").value,n=document.querySelector(".project-description").value,o=new v(t,n);k.push(o),L(),S()},M=e=>{e.preventDefault();const t=document.querySelector(".todo-project").value,n=k.filter(e=>e.title===t),o=document.querySelector(".todo-title").value,i=document.querySelector(".todo-description").value,r=document.querySelector(".todo-dueDate").value,a=document.querySelector(".todo-priority").value,s=new p(o,i,r,a);n[0].todoList.push(s),L(),S()},O=(e,t)=>{I(!0,t,e)},I=(e,t,n)=>{C(b);const o=document.createElement("form"),i=document.createElement("select");i.classList.add("todo-project"),["title","description","dueDate","priority"].forEach(n=>{const i=document.createElement("input");i.textContent=n,e&&(i.value=t[n]),i.classList.add("todo-"+n),o.appendChild(i)}),k.forEach(e=>{const t=document.createElement("option");t.textContent=e.title,i.appendChild(t)}),o.appendChild(i);const r=document.createElement("button");e?(y.textContent="Edit Todo",r.textContent="Finished Edit",r.addEventListener("click",()=>x(n,t))):(y.textContent="Add Todo",r.textContent="Create Todo"),r.addEventListener("click",M),o.appendChild(r),b.appendChild(o)};document.querySelector(".create-todo-btn").addEventListener("click",()=>I(!1,{},{})),document.querySelector(".create-project-btn").addEventListener("click",()=>{C(b),y.textContent="Add Project";const e=document.createElement("form");["title","description"].forEach(t=>{const n=document.createElement("input");n.textContent=t,n.classList.add("project-"+t),e.appendChild(n)});const t=document.createElement("button");t.textContent="Create Project",e.appendChild(t),t.addEventListener("click",A),b.appendChild(e)}),L()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0b3JlMi9kaXN0L3N0b3JlMi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuc2Nzcz83NWJhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9taWNyb21vZGFsL2Rpc3QvbWljcm9tb2RhbC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG9zLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsImRlZmluZSIsIl8iLCJ2ZXJzaW9uIiwiYXJlYXMiLCJhcGlzIiwiaW5oZXJpdCIsImFwaSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCIsIkpTT04iLCJwYXJzZSIsImZuIiwicmV2aXZlIiwiZSIsInN0b3JlQVBJIiwiYXJlYSIsImdldEl0ZW0iLCJzZXQiLCJzdHJpbmciLCJzZXRJdGVtIiwicmVtb3ZlIiwicmVtb3ZlSXRlbSIsImxlbmd0aCIsImNsZWFyIiwiU3RvcmUiLCJpZCIsIm5hbWVzcGFjZSIsInN0b3JlIiwiZGF0YSIsIm92ZXJ3cml0ZSIsImFyZ3VtZW50cyIsImdldEFsbCIsInRyYW5zYWN0IiwiZWFjaCIsInNldEFsbCIsIl9pZCIsIl9hcmVhIiwic3RvcmFnZSIsIl9ucyIsInRoaXMiLCJzaW5nbGVBcmVhIiwic3Vic3RyaW5nIiwiaXNGYWtlIiwidG9TdHJpbmciLCJoYXMiLCJfaW4iLCJzaXplIiwia2V5cyIsImZpbGwiLCJfb3V0IiwiZmlsbExpc3QiLCJrIiwidiIsImxpc3QiLCJwdXNoIiwiYWx0IiwiZmlsbE9iaiIsImFsbCIsInZhbCIsInJldCIsImNoYW5nZWQiLCJhZGQiLCJBcnJheSIsImNvbmNhdCIsInR5cGUiLCJjbGVhckFsbCIsImluZGV4T2YiLCJzdG9yYWdlQVBJIiwiaXRlbXMiLCJsb2NhbFN0b3JhZ2UiLCJsb2NhbCIsInNlc3Npb25TdG9yYWdlIiwiYW1kIiwiY29uZmxpY3QiLCJjb250ZW50IiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJkb2N1bWVudCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInVzZVNvdXJjZU1hcCIsIm1hcCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsImlzQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIml0ZXIiLCJpdGVyYXRvciIsImZyb20iLCJfaXRlcmFibGVUb0FycmF5IiwibWluTGVuIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJsZW4iLCJhcnIyIiwiRk9DVVNBQkxFX0VMRU1FTlRTIiwiTW9kYWwiLCJhY3RpdmVNb2RhbCIsInZhbGlkYXRlTW9kYWxQcmVzZW5jZSIsInZhbGlkYXRlQXJncyIsIk1pY3JvTW9kYWwiLCJfcmVmIiwidGFyZ2V0TW9kYWwiLCJfcmVmJHRyaWdnZXJzIiwidHJpZ2dlcnMiLCJfcmVmJG9uU2hvdyIsIm9uU2hvdyIsIl9yZWYkb25DbG9zZSIsIm9uQ2xvc2UiLCJfcmVmJG9wZW5UcmlnZ2VyIiwib3BlblRyaWdnZXIiLCJfcmVmJGNsb3NlVHJpZ2dlciIsImNsb3NlVHJpZ2dlciIsIl9yZWYkb3BlbkNsYXNzIiwib3BlbkNsYXNzIiwiX3JlZiRkaXNhYmxlU2Nyb2xsIiwiZGlzYWJsZVNjcm9sbCIsIl9yZWYkZGlzYWJsZUZvY3VzIiwiZGlzYWJsZUZvY3VzIiwiX3JlZiRhd2FpdENsb3NlQW5pbWF0IiwiYXdhaXRDbG9zZUFuaW1hdGlvbiIsIl9yZWYkYXdhaXRPcGVuQW5pbWF0aSIsImF3YWl0T3BlbkFuaW1hdGlvbiIsIl9yZWYkZGVidWdNb2RlIiwiZGVidWdNb2RlIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9jbGFzc0NhbGxDaGVjayIsIm1vZGFsIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb25maWciLCJyZWdpc3RlclRyaWdnZXJzIiwiYXBwbHkiLCJvbkNsaWNrIiwib25LZXlkb3duIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3RoaXMiLCJfbGVuIiwiX2tleSIsInRyaWdnZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJzaG93TW9kYWwiLCJfdGhpczIiLCJhY3RpdmVFbGVtZW50IiwiY2xhc3NMaXN0Iiwic2Nyb2xsQmVoYXZpb3VyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJoYW5kbGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEZvY3VzVG9GaXJzdE5vZGUiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImZvY3VzIiwiY2xvc2VNb2RhbCIsInRvZ2dsZSIsImJvZHkiLCJhc3NpZ24iLCJvdmVyZmxvdyIsImhhc0F0dHJpYnV0ZSIsImtleUNvZGUiLCJyZXRhaW5Gb2N1cyIsIm5vZGVzIiwicXVlcnlTZWxlY3RvckFsbCIsIl90aGlzMyIsImZvY3VzYWJsZU5vZGVzIiwiZ2V0Rm9jdXNhYmxlTm9kZXMiLCJub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzIiwibm9kZSIsIm9mZnNldFBhcmVudCIsImNvbnRhaW5zIiwiZm9jdXNlZEl0ZW1JbmRleCIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwid2FybiIsInRyaWdnZXJNYXAiLCJ2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSIsImluaXQiLCJ0cmlnZ2VyQXR0ciIsImdlbmVyYXRlVHJpZ2dlck1hcCIsInNob3ciLCJjbG9zZSIsImNsb3NlTW9kYWxCeUlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInRvZG9MaXN0IiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY29tcGxldGUiLCJwcm9qZWN0RGl2IiwibW9kYWxDb250ZW50IiwibW9kYWxUaXRsZSIsImRlZmF1bHRQcm9qZWN0IiwidGVzdFRvZG8iLCJwcm9qZWN0TGlzdCIsImZpcnN0UmVuZGVyIiwiY2xlYW5QYWdlIiwiZWxlbWVudCIsImxhc3RDaGlsZCIsInJlbW92ZVRvZG8iLCJwcm9qZWN0IiwidG9kbyIsInJlbmRlclByb2plY3RzIiwiY2xpY2siLCJnZXRUb2RvTGlzdCIsInVsIiwibGkiLCJ0ZXh0Q29udGVudCIsImVudHJpZXMiLCJkZWxCdG4iLCJlZGl0QnRuIiwiZWRpdFRvZG8iLCJyZW5kZXJUb2RvIiwiaDIiLCJjcmVhdGVQcm9qZWN0IiwibmV3UHJvamVjdCIsImNyZWF0ZVRvZG8iLCJwcm9qZWN0TmFtZSIsIm5ld1RvZG8iLCJjcmVhdGVUb2RvRm9ybSIsImVkaXRlZCIsImZvcm0iLCJzZWxlY3QiLCJpbnB1dCIsIm9wdGlvbiIsImJ1dHRvbiJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxl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QixZQUFjLFlBQ3pCa0IsRUFBT2xCLFlBQWMsZ0JBQ3JCa0IsRUFBT3JGLGlCQUFpQixRQUFTLElBQU0yRCxFQUFXQyxFQUFTQyxNQUwzRFYsRUFBV2dCLFlBQWMsV0FDekJrQixFQUFPbEIsWUFBYyxlQU12QmtCLEVBQU9yRixpQkFBaUIsUUFBUzRFLEdBQ2pDSyxFQUFLck0sWUFBWXlNLEdBQ2pCbkMsRUFBYXRLLFlBQVlxTSxJQXFCM0J6TyxTQUFTSyxjQUFjLG9CQUFvQm1KLGlCQUFpQixRQUFTLElBQU0rRSxHQUFlLEVBQU8sR0FBSSxLQUVyR3ZPLFNBQVNLLGNBQWMsdUJBQXVCbUosaUJBQWlCLFFBcEJyQyxLQUN4QndELEVBQVVOLEdBQ1ZDLEVBQVdnQixZQUFjLGNBQ3pCLE1BQU1jLEVBQU96TyxTQUFTNkIsY0FBYyxRQUNyQixDQUFDLFFBQVMsZUFDbEJHLFFBQVEyTSxJQUNiLE1BQU0xQixFQUFVak4sU0FBUzZCLGNBQWMsU0FDdkNvTCxFQUFRVSxZQUFjZ0IsRUFDdEIxQixFQUFRcEQsVUFBVWpMLElBQUksV0FBVytQLEdBQ2pDRixFQUFLck0sWUFBWTZLLEtBRW5CLE1BQU00QixFQUFTN08sU0FBUzZCLGNBQWMsVUFDdENnTixFQUFPbEIsWUFBYyxpQkFDckJjLEVBQUtyTSxZQUFZeU0sR0FDakJBLEVBQU9yRixpQkFBaUIsUUFBUzBFLEdBQ2pDeEIsRUFBYXRLLFlBQVlxTSxLQU8zQm5CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIi8qISBzdG9yZTIgLSB2Mi4xMS4yIC0gMjAyMC0wNS0xMVxuKiBDb3B5cmlnaHQgKGMpIDIwMjAgTmF0aGFuIEJ1Ym5hOyBMaWNlbnNlZCAoTUlUIE9SIEdQTC0zLjApICovXG47KGZ1bmN0aW9uKHdpbmRvdywgZGVmaW5lKSB7XG4gICAgdmFyIF8gPSB7XG4gICAgICAgIHZlcnNpb246IFwiMi4xMS4yXCIsXG4gICAgICAgIGFyZWFzOiB7fSxcbiAgICAgICAgYXBpczoge30sXG5cbiAgICAgICAgLy8gdXRpbGl0aWVzXG4gICAgICAgIGluaGVyaXQ6IGZ1bmN0aW9uKGFwaSwgbykge1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBhcGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW8uaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIHAsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpLCBwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgIH0sXG4gICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgZCA9PT0gXCJmdW5jdGlvblwiID8gZCsnJyA6IEpTT04uc3RyaW5naWZ5KGQpO1xuICAgICAgICB9LFxuICAgICAgICBwYXJzZTogZnVuY3Rpb24ocywgZm4pIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IGRvZXNuJ3QgcGFyc2UsIHJldHVybiBhcyBpc1xuICAgICAgICAgICAgdHJ5eyByZXR1cm4gSlNPTi5wYXJzZShzLGZufHxfLnJldml2ZSk7IH1jYXRjaChlKXsgcmV0dXJuIHM7IH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBleHRlbnNpb24gaG9va3NcbiAgICAgICAgZm46IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgICAgICAgICBfLnN0b3JlQVBJW25hbWVdID0gZm47XG4gICAgICAgICAgICBmb3IgKHZhciBhcGkgaW4gXy5hcGlzKSB7XG4gICAgICAgICAgICAgICAgXy5hcGlzW2FwaV1bbmFtZV0gPSBmbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihhcmVhLCBrZXkpeyByZXR1cm4gYXJlYS5nZXRJdGVtKGtleSk7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oYXJlYSwga2V5LCBzdHJpbmcpeyBhcmVhLnNldEl0ZW0oa2V5LCBzdHJpbmcpOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGFyZWEsIGtleSl7IGFyZWEucmVtb3ZlSXRlbShrZXkpOyB9LFxuICAgICAgICBrZXk6IGZ1bmN0aW9uKGFyZWEsIGkpeyByZXR1cm4gYXJlYS5rZXkoaSk7IH0sXG4gICAgICAgIGxlbmd0aDogZnVuY3Rpb24oYXJlYSl7IHJldHVybiBhcmVhLmxlbmd0aDsgfSxcbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKGFyZWEpeyBhcmVhLmNsZWFyKCk7IH0sXG5cbiAgICAgICAgLy8gY29yZSBmdW5jdGlvbnNcbiAgICAgICAgU3RvcmU6IGZ1bmN0aW9uKGlkLCBhcmVhLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IF8uaW5oZXJpdChfLnN0b3JlQVBJLCBmdW5jdGlvbihrZXksIGRhdGEsIG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKXsgcmV0dXJuIHN0b3JlLmdldEFsbCgpOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcImZ1bmN0aW9uXCIpeyByZXR1cm4gc3RvcmUudHJhbnNhY3Qoa2V5LCBkYXRhLCBvdmVyd3JpdGUpOyB9Ly8gZm49ZGF0YSwgYWx0PW92ZXJ3cml0ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpeyByZXR1cm4gc3RvcmUuc2V0KGtleSwgZGF0YSwgb3ZlcndyaXRlKTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBrZXkgPT09IFwibnVtYmVyXCIpeyByZXR1cm4gc3RvcmUuZ2V0KGtleSk7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJmdW5jdGlvblwiKXsgcmV0dXJuIHN0b3JlLmVhY2goa2V5KTsgfVxuICAgICAgICAgICAgICAgIGlmICgha2V5KXsgcmV0dXJuIHN0b3JlLmNsZWFyKCk7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuc2V0QWxsKGtleSwgZGF0YSk7Ly8gb3ZlcndyaXRlPWRhdGEsIGRhdGE9a2V5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0b3JlLl9pZCA9IGlkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgdGVzdEtleSA9ICdfLWJhZC1fJztcbiAgICAgICAgICAgICAgICBhcmVhLnNldEl0ZW0odGVzdEtleSwgJ3dvbGYnKTtcbiAgICAgICAgICAgICAgICBzdG9yZS5fYXJlYSA9IGFyZWE7XG4gICAgICAgICAgICAgICAgYXJlYS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIGlmICghc3RvcmUuX2FyZWEpIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5fYXJlYSA9IF8uc3RvcmFnZSgnZmFrZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmUuX25zID0gbmFtZXNwYWNlIHx8ICcnO1xuICAgICAgICAgICAgaWYgKCFfLmFyZWFzW2lkXSkge1xuICAgICAgICAgICAgICAgIF8uYXJlYXNbaWRdID0gc3RvcmUuX2FyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV8uYXBpc1tzdG9yZS5fbnMrc3RvcmUuX2lkXSkge1xuICAgICAgICAgICAgICAgIF8uYXBpc1tzdG9yZS5fbnMrc3RvcmUuX2lkXSA9IHN0b3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICB9LFxuICAgICAgICBzdG9yZUFQSToge1xuICAgICAgICAgICAgLy8gYWRtaW4gZnVuY3Rpb25zXG4gICAgICAgICAgICBhcmVhOiBmdW5jdGlvbihpZCwgYXJlYSkge1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRoaXNbaWRdO1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLmFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUgPSBfLlN0b3JlKGlkLCBhcmVhLCB0aGlzLl9ucyk7Ly9uZXcgYXJlYS1zcGVjaWZpYyBhcGkgaW4gdGhpcyBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzW2lkXSl7IHRoaXNbaWRdID0gc3RvcmU7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWVzcGFjZTogZnVuY3Rpb24obmFtZXNwYWNlLCBzaW5nbGVBcmVhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2Upe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbnMgPyB0aGlzLl9ucy5zdWJzdHJpbmcoMCx0aGlzLl9ucy5sZW5ndGgtMSkgOiAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5zID0gbmFtZXNwYWNlLCBzdG9yZSA9IHRoaXNbbnNdO1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZSA9IF8uU3RvcmUodGhpcy5faWQsIHRoaXMuX2FyZWEsIHRoaXMuX25zK25zKycuJyk7Ly9uZXcgbmFtZXNwYWNlZCBhcGlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzW25zXSl7IHRoaXNbbnNdID0gc3RvcmU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaW5nbGVBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIF8uYXJlYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5hcmVhKG5hbWUsIF8uYXJlYXNbbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0Zha2U6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLl9hcmVhLm5hbWUgPT09ICdmYWtlJzsgfSxcbiAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3N0b3JlJysodGhpcy5fbnM/Jy4nK3RoaXMubmFtZXNwYWNlKCk6JycpKydbJyt0aGlzLl9pZCsnXSc7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBzdG9yYWdlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXJlYS5oYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FyZWEuaGFzKHRoaXMuX2luKGtleSkpOy8vZXh0ZW5zaW9uIGhvb2tcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuX2luKGtleSkgaW4gdGhpcy5fYXJlYSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMua2V5cygpLmxlbmd0aDsgfSxcbiAgICAgICAgICAgIGVhY2g6IGZ1bmN0aW9uKGZuLCBmaWxsKSB7Ly8gZmlsbCBpcyB1c2VkIGJ5IGtleXMoZmlsbExpc3QpIGFuZCBnZXRBbGwoZmlsbExpc3QpKVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MCwgbT1fLmxlbmd0aCh0aGlzLl9hcmVhKTsgaTxtOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuX291dChfLmtleSh0aGlzLl9hcmVhLCBpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuLmNhbGwodGhpcywga2V5LCB0aGlzLmdldChrZXkpLCBmaWxsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobSA+IF8ubGVuZ3RoKHRoaXMuX2FyZWEpKSB7IG0tLTsgaS0tOyB9Ly8gaW4gY2FzZSBvZiByZW1vdmVJdGVtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxsIHx8IHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5czogZnVuY3Rpb24oZmlsbExpc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGssIHYsIGxpc3QpeyBsaXN0LnB1c2goayk7IH0sIGZpbGxMaXN0IHx8IFtdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSwgYWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBfLmdldCh0aGlzLl9hcmVhLCB0aGlzLl9pbihrZXkpKSxcbiAgICAgICAgICAgICAgICAgICAgZm47XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhbHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBmbiA9IGFsdDtcbiAgICAgICAgICAgICAgICAgICAgYWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMgIT09IG51bGwgPyBfLnBhcnNlKHMsIGZuKSA6XG4gICAgICAgICAgICAgICAgICAgIGFsdCAhPSBudWxsID8gYWx0IDogcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRBbGw6IGZ1bmN0aW9uKGZpbGxPYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGssIHYsIGFsbCl7IGFsbFtrXSA9IHY7IH0sIGZpbGxPYmogfHwge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zYWN0OiBmdW5jdGlvbihrZXksIGZuLCBhbHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXQoa2V5LCBhbHQpLFxuICAgICAgICAgICAgICAgICAgICByZXQgPSBmbih2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgcmV0ID09PSB1bmRlZmluZWQgPyB2YWwgOiByZXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oa2V5LCBkYXRhLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBvdmVyd3JpdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXy5zZXQodGhpcy5fYXJlYSwgdGhpcy5faW4oa2V5KSwgXy5zdHJpbmdpZnkoZGF0YSksIG92ZXJ3cml0ZSkgfHwgZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRBbGw6IGZ1bmN0aW9uKGRhdGEsIG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkLCB2YWw7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXQoa2V5LCB2YWwsIG92ZXJ3cml0ZSkgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihrZXksIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZC5jb25jYXQoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSB0eXBlb2YgZGF0YSAmJiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZFtrXSA9IGRhdGFba107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkICsgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfLnNldCh0aGlzLl9hcmVhLCB0aGlzLl9pbihrZXkpLCBfLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIGFsdCkge1xuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5nZXQoa2V5LCBhbHQpO1xuICAgICAgICAgICAgICAgIF8ucmVtb3ZlKHRoaXMuX2FyZWEsIHRoaXMuX2luKGtleSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX25zKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uY2xlYXIodGhpcy5fYXJlYSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGspeyBfLnJlbW92ZSh0aGlzLl9hcmVhLCB0aGlzLl9pbihrKSk7IH0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhckFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZWEgPSB0aGlzLl9hcmVhO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlkIGluIF8uYXJlYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uYXJlYXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hcmVhID0gXy5hcmVhc1tpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJlYSA9IGFyZWE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCB1c2UgZnVuY3Rpb25zXG4gICAgICAgICAgICBfaW46IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGsgIT09IFwic3RyaW5nXCIpeyBrID0gXy5zdHJpbmdpZnkoayk7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbnMgPyB0aGlzLl9ucyArIGsgOiBrO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vdXQ6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbnMgP1xuICAgICAgICAgICAgICAgICAgICBrICYmIGsuaW5kZXhPZih0aGlzLl9ucykgPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgay5zdWJzdHJpbmcodGhpcy5fbnMubGVuZ3RoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiAvLyBzbyBlYWNoKCkga25vd3MgdG8gc2tpcCBpdFxuICAgICAgICAgICAgICAgICAgICBrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LC8vIGVuZCBfLnN0b3JlQVBJXG4gICAgICAgIHN0b3JhZ2U6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfLmluaGVyaXQoXy5zdG9yYWdlQVBJLCB7IGl0ZW1zOiB7fSwgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcmFnZUFQSToge1xuICAgICAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbihrKXsgcmV0dXJuIHRoaXMuaXRlbXMuaGFzT3duUHJvcGVydHkoayk7IH0sXG4gICAgICAgICAgICBrZXk6IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzKGspICYmIGkgPT09IGMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0SXRlbTogZnVuY3Rpb24oaywgdikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1trXSA9IHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24oaykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhcyhrKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1trXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SXRlbTogZnVuY3Rpb24oayl7IHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMuaXRlbXNba10gOiBudWxsOyB9LFxuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCl7IGZvciAodmFyIGsgaW4gdGhpcy5pdGVtcyl7IHRoaXMucmVtb3ZlSXRlbShrKTsgfSB9XG4gICAgICAgIH0vLyBlbmQgXy5zdG9yYWdlQVBJXG4gICAgfTtcblxuICAgIHZhciBzdG9yZSA9XG4gICAgICAgIC8vIHNhZmVseSBzZXQgdGhpcyB1cCAodGhyb3dzIGVycm9yIGluIElFMTAvMzJiaXQgbW9kZSBmb3IgbG9jYWwgZmlsZXMpXG4gICAgICAgIF8uU3RvcmUoXCJsb2NhbFwiLCAoZnVuY3Rpb24oKXt0cnl7IHJldHVybiBsb2NhbFN0b3JhZ2U7IH1jYXRjaChlKXt9fSkoKSk7XG4gICAgc3RvcmUubG9jYWwgPSBzdG9yZTsvLyBmb3IgY29tcGxldGVuZXNzXG4gICAgc3RvcmUuXyA9IF87Ly8gZm9yIGV4dGVuZGVycyBhbmQgZGVidWdnZXJzLi4uXG4gICAgLy8gc2FmZWx5IHNldHVwIHN0b3JlLnNlc3Npb24gKHRocm93cyBleGNlcHRpb24gaW4gRkYgZm9yIGZpbGU6Ly8vIHVybHMpXG4gICAgc3RvcmUuYXJlYShcInNlc3Npb25cIiwgKGZ1bmN0aW9uKCl7dHJ5eyByZXR1cm4gc2Vzc2lvblN0b3JhZ2U7IH1jYXRjaChlKXt9fSkoKSk7XG4gICAgc3RvcmUuYXJlYShcInBhZ2VcIiwgXy5zdG9yYWdlKFwicGFnZVwiKSk7XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVmaW5lKCdzdG9yZTInLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gc3RvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXhwb3NlIHRoZSBwcmltYXJ5IHN0b3JlIGZuIHRvIHRoZSBnbG9iYWwgb2JqZWN0IGFuZCBzYXZlIGNvbmZsaWN0c1xuICAgICAgICBpZiAod2luZG93LnN0b3JlKXsgXy5jb25mbGljdCA9IHdpbmRvdy5zdG9yZTsgfVxuICAgICAgICB3aW5kb3cuc3RvcmUgPSBzdG9yZTtcbiAgICB9XG5cbn0pKHRoaXMsIHRoaXMgJiYgdGhpcy5kZWZpbmUpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiKntib3gtc2l6aW5nOmJvcmRlci1ib3h9LnRvZG8tbGlzdC1pdGVtc3tsaXN0LXN0eWxlLXR5cGU6bm9uZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOmJsdWU7Y3Vyc29yOnBvaW50ZXJ9YnV0dG9ue2N1cnNvcjpwb2ludGVyfS5tb2RhbHtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxhdmVuaXIgbmV4dCxhdmVuaXIsaGVsdmV0aWNhIG5ldWUsaGVsdmV0aWNhLHVidW50dSxyb2JvdG8sbm90byxzZWdvZSB1aSxhcmlhbCxzYW5zLXNlcmlmfS5tb2RhbF9fb3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjYpO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0ubW9kYWxfX2NvbnRhaW5lcntiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzozMHB4O21heC13aWR0aDo1MDBweDttYXgtaGVpZ2h0OjEwMHZoO2JvcmRlci1yYWRpdXM6NHB4O292ZXJmbG93LXk6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3h9Lm1vZGFsX19oZWFkZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0ubW9kYWxfX3RpdGxle21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7Zm9udC13ZWlnaHQ6NjAwO2ZvbnQtc2l6ZToxLjI1cmVtO2xpbmUtaGVpZ2h0OjEuMjU7Y29sb3I6IzAwNDQ5ZTtib3gtc2l6aW5nOmJvcmRlci1ib3h9Lm1vZGFsX19jbG9zZXtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowfS5tb2RhbF9faGVhZGVyIC5tb2RhbF9fY2xvc2U6OmJlZm9yZXtjb250ZW50OlxcXCLinJVcXFwifS5tb2RhbF9fY29udGVudHttYXJnaW4tdG9wOjJyZW07bWFyZ2luLWJvdHRvbToycmVtO2xpbmUtaGVpZ2h0OjEuNTtjb2xvcjpyZ2JhKDAsMCwwLC44KX0ubW9kYWxfX2J0bntmb250LXNpemU6Ljg3NXJlbTtwYWRkaW5nLWxlZnQ6MXJlbTtwYWRkaW5nLXJpZ2h0OjFyZW07cGFkZGluZy10b3A6LjVyZW07cGFkZGluZy1ib3R0b206LjVyZW07YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2O2NvbG9yOnJnYmEoMCwwLDAsLjgpO2JvcmRlci1yYWRpdXM6LjI1cmVtO2JvcmRlci1zdHlsZTpub25lO2JvcmRlci13aWR0aDowO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247dGV4dC10cmFuc2Zvcm06bm9uZTtvdmVyZmxvdzp2aXNpYmxlO2xpbmUtaGVpZ2h0OjEuMTU7bWFyZ2luOjA7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAuMjVzIGVhc2Utb3V0O3RyYW5zaXRpb246dHJhbnNmb3JtIC4yNXMgZWFzZS1vdXQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjI1cyBlYXNlLW91dCwtd2Via2l0LXRyYW5zZm9ybSAuMjVzIGVhc2Utb3V0fS5tb2RhbF9fYnRuOmZvY3VzLC5tb2RhbF9fYnRuOmhvdmVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDUpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX0ubW9kYWxfX2J0bi1wcmltYXJ5e2JhY2tncm91bmQtY29sb3I6IzAwNDQ5ZTtjb2xvcjojZmZmfUBrZXlmcmFtZXMgbW1mYWRlSW57ZnJvbXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIG1tZmFkZU91dHtmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjB9fUBrZXlmcmFtZXMgbW1zbGlkZUlue2Zyb217dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTUlKX10b3t0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QGtleWZyYW1lcyBtbXNsaWRlT3V0e2Zyb217dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwJSl9fS5taWNyb21vZGFsLXNsaWRle2Rpc3BsYXk6bm9uZX0ubWljcm9tb2RhbC1zbGlkZS5pcy1vcGVue2Rpc3BsYXk6YmxvY2t9Lm1pY3JvbW9kYWwtc2xpZGVbYXJpYS1oaWRkZW49ZmFsc2VdIC5tb2RhbF9fb3ZlcmxheXthbmltYXRpb246bW1mYWRlSW4gLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpfS5taWNyb21vZGFsLXNsaWRlW2FyaWEtaGlkZGVuPWZhbHNlXSAubW9kYWxfX2NvbnRhaW5lcnthbmltYXRpb246bW1zbGlkZUluIC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKX0ubWljcm9tb2RhbC1zbGlkZVthcmlhLWhpZGRlbj10cnVlXSAubW9kYWxfX292ZXJsYXl7YW5pbWF0aW9uOm1tZmFkZU91dCAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSl9Lm1pY3JvbW9kYWwtc2xpZGVbYXJpYS1oaWRkZW49dHJ1ZV0gLm1vZGFsX19jb250YWluZXJ7YW5pbWF0aW9uOm1tc2xpZGVPdXQgLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpfS5taWNyb21vZGFsLXNsaWRlIC5tb2RhbF9fY29udGFpbmVyLC5taWNyb21vZGFsLXNsaWRlIC5tb2RhbF9fb3ZlcmxheXt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obik7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG52YXIgTWljcm9Nb2RhbCA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgRk9DVVNBQkxFX0VMRU1FTlRTID0gWydhW2hyZWZdJywgJ2FyZWFbaHJlZl0nLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdHlwZT1cImhpZGRlblwiXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3RleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnaWZyYW1lJywgJ29iamVjdCcsICdlbWJlZCcsICdbY29udGVudGVkaXRhYmxlXScsICdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXhePVwiLVwiXSknXTtcblxuICB2YXIgTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKF9yZWYpIHtcbiAgICAgIHZhciB0YXJnZXRNb2RhbCA9IF9yZWYudGFyZ2V0TW9kYWwsXG4gICAgICAgICAgX3JlZiR0cmlnZ2VycyA9IF9yZWYudHJpZ2dlcnMsXG4gICAgICAgICAgdHJpZ2dlcnMgPSBfcmVmJHRyaWdnZXJzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkdHJpZ2dlcnMsXG4gICAgICAgICAgX3JlZiRvblNob3cgPSBfcmVmLm9uU2hvdyxcbiAgICAgICAgICBvblNob3cgPSBfcmVmJG9uU2hvdyA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJG9uU2hvdyxcbiAgICAgICAgICBfcmVmJG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2UsXG4gICAgICAgICAgb25DbG9zZSA9IF9yZWYkb25DbG9zZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJG9uQ2xvc2UsXG4gICAgICAgICAgX3JlZiRvcGVuVHJpZ2dlciA9IF9yZWYub3BlblRyaWdnZXIsXG4gICAgICAgICAgb3BlblRyaWdnZXIgPSBfcmVmJG9wZW5UcmlnZ2VyID09PSB2b2lkIDAgPyAnZGF0YS1taWNyb21vZGFsLXRyaWdnZXInIDogX3JlZiRvcGVuVHJpZ2dlcixcbiAgICAgICAgICBfcmVmJGNsb3NlVHJpZ2dlciA9IF9yZWYuY2xvc2VUcmlnZ2VyLFxuICAgICAgICAgIGNsb3NlVHJpZ2dlciA9IF9yZWYkY2xvc2VUcmlnZ2VyID09PSB2b2lkIDAgPyAnZGF0YS1taWNyb21vZGFsLWNsb3NlJyA6IF9yZWYkY2xvc2VUcmlnZ2VyLFxuICAgICAgICAgIF9yZWYkb3BlbkNsYXNzID0gX3JlZi5vcGVuQ2xhc3MsXG4gICAgICAgICAgb3BlbkNsYXNzID0gX3JlZiRvcGVuQ2xhc3MgPT09IHZvaWQgMCA/ICdpcy1vcGVuJyA6IF9yZWYkb3BlbkNsYXNzLFxuICAgICAgICAgIF9yZWYkZGlzYWJsZVNjcm9sbCA9IF9yZWYuZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgICBkaXNhYmxlU2Nyb2xsID0gX3JlZiRkaXNhYmxlU2Nyb2xsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgICBfcmVmJGRpc2FibGVGb2N1cyA9IF9yZWYuZGlzYWJsZUZvY3VzLFxuICAgICAgICAgIGRpc2FibGVGb2N1cyA9IF9yZWYkZGlzYWJsZUZvY3VzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZUZvY3VzLFxuICAgICAgICAgIF9yZWYkYXdhaXRDbG9zZUFuaW1hdCA9IF9yZWYuYXdhaXRDbG9zZUFuaW1hdGlvbixcbiAgICAgICAgICBhd2FpdENsb3NlQW5pbWF0aW9uID0gX3JlZiRhd2FpdENsb3NlQW5pbWF0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkYXdhaXRDbG9zZUFuaW1hdCxcbiAgICAgICAgICBfcmVmJGF3YWl0T3BlbkFuaW1hdGkgPSBfcmVmLmF3YWl0T3BlbkFuaW1hdGlvbixcbiAgICAgICAgICBhd2FpdE9wZW5BbmltYXRpb24gPSBfcmVmJGF3YWl0T3BlbkFuaW1hdGkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhd2FpdE9wZW5BbmltYXRpLFxuICAgICAgICAgIF9yZWYkZGVidWdNb2RlID0gX3JlZi5kZWJ1Z01vZGUsXG4gICAgICAgICAgZGVidWdNb2RlID0gX3JlZiRkZWJ1Z01vZGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkZWJ1Z01vZGU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbCk7XG5cbiAgICAgIC8vIFNhdmUgYSByZWZlcmVuY2Ugb2YgdGhlIG1vZGFsXG4gICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0TW9kYWwpOyAvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXNzZWQgY29uZmlnXG5cbiAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICBkZWJ1Z01vZGU6IGRlYnVnTW9kZSxcbiAgICAgICAgZGlzYWJsZVNjcm9sbDogZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgb3BlblRyaWdnZXI6IG9wZW5UcmlnZ2VyLFxuICAgICAgICBjbG9zZVRyaWdnZXI6IGNsb3NlVHJpZ2dlcixcbiAgICAgICAgb3BlbkNsYXNzOiBvcGVuQ2xhc3MsXG4gICAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgICAgICBhd2FpdENsb3NlQW5pbWF0aW9uOiBhd2FpdENsb3NlQW5pbWF0aW9uLFxuICAgICAgICBhd2FpdE9wZW5BbmltYXRpb246IGF3YWl0T3BlbkFuaW1hdGlvbixcbiAgICAgICAgZGlzYWJsZUZvY3VzOiBkaXNhYmxlRm9jdXNcbiAgICAgIH07IC8vIFJlZ2lzdGVyIGNsaWNrIGV2ZW50cyBvbmx5IGlmIHByZSBiaW5kaW5nIGV2ZW50TGlzdGVuZXJzXG5cbiAgICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPiAwKSB0aGlzLnJlZ2lzdGVyVHJpZ2dlcnMuYXBwbHkodGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KHRyaWdnZXJzKSk7IC8vIHByZSBiaW5kIGZ1bmN0aW9ucyBmb3IgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vbktleWRvd24gPSB0aGlzLm9uS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29wcyB0aHJvdWdoIGFsbCBvcGVuVHJpZ2dlcnMgYW5kIGJpbmRzIGNsaWNrIGV2ZW50XG4gICAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzIFtBcnJheSBvZiBub2RlIGVsZW1lbnRzXVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgW3tcbiAgICAgIGtleTogXCJyZWdpc3RlclRyaWdnZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJUcmlnZ2VycygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdHJpZ2dlcnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgdHJpZ2dlcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB0cmlnZ2Vycy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaG93TW9kYWwoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2hvd01vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd01vZGFsKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMubW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcub3BlbkNsYXNzKTtcbiAgICAgICAgdGhpcy5zY3JvbGxCZWhhdmlvdXIoJ2Rpc2FibGUnKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hd2FpdE9wZW5BbmltYXRpb24pIHtcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBfdGhpczIubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgICAgICBfdGhpczIuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldEZvY3VzVG9GaXJzdE5vZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm9uU2hvdyh0aGlzLm1vZGFsLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VNb2RhbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XG4gICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5tb2RhbDtcbiAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnNjcm9sbEJlaGF2aW91cignZW5hYmxlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlRWxlbWVudCAmJiB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm9uQ2xvc2UodGhpcy5tb2RhbCwgdGhpcy5hY3RpdmVFbGVtZW50LCBldmVudCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF3YWl0Q2xvc2VBbmltYXRpb24pIHtcbiAgICAgICAgICB2YXIgb3BlbkNsYXNzID0gdGhpcy5jb25maWcub3BlbkNsYXNzOyAvLyA8LSBvbGQgc2Nob29sIGZ0d1xuXG4gICAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShvcGVuQ2xhc3MpO1xuICAgICAgICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VNb2RhbEJ5SWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsQnlJZCh0YXJnZXRNb2RhbCkge1xuICAgICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0TW9kYWwpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbCkgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNjcm9sbEJlaGF2aW91clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbEJlaGF2aW91cih0b2dnbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5kaXNhYmxlU2Nyb2xsKSByZXR1cm47XG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gICAgICAgIHN3aXRjaCAodG9nZ2xlKSB7XG4gICAgICAgICAgY2FzZSAnZW5hYmxlJzpcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keS5zdHlsZSwge1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdkaXNhYmxlJzpcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keS5zdHlsZSwge1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkRXZlbnRMaXN0ZW5lcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZUV2ZW50TGlzdGVuZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25DbGljayk7XG4gICAgICAgIHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleWRvd24pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvbkNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lmhhc0F0dHJpYnV0ZSh0aGlzLmNvbmZpZy5jbG9zZVRyaWdnZXIpKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvbktleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB0aGlzLmNsb3NlTW9kYWwoZXZlbnQpOyAvLyBlc2NcblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gOSkgdGhpcy5yZXRhaW5Gb2N1cyhldmVudCk7IC8vIHRhYlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRGb2N1c2FibGVOb2Rlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZvY3VzYWJsZU5vZGVzKCkge1xuICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoRk9DVVNBQkxFX0VMRU1FTlRTKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KG5vZGVzKSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRyaWVzIHRvIHNldCBmb2N1cyBvbiBhIG5vZGUgd2hpY2ggaXMgbm90IGEgY2xvc2UgdHJpZ2dlclxuICAgICAgICogaWYgbm8gb3RoZXIgbm9kZXMgZXhpc3QgdGhlbiBmb2N1c2VzIG9uIGZpcnN0IGNsb3NlIHRyaWdnZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldEZvY3VzVG9GaXJzdE5vZGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGb2N1c1RvRmlyc3ROb2RlKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuZGlzYWJsZUZvY3VzKSByZXR1cm47XG4gICAgICAgIHZhciBmb2N1c2FibGVOb2RlcyA9IHRoaXMuZ2V0Rm9jdXNhYmxlTm9kZXMoKTsgLy8gbm8gZm9jdXNhYmxlIG5vZGVzXG5cbiAgICAgICAgaWYgKGZvY3VzYWJsZU5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyByZW1vdmUgbm9kZXMgb24gd2hvc2UgY2xpY2ssIHRoZSBtb2RhbCBjbG9zZXNcbiAgICAgICAgLy8gY291bGQgbm90IHRoaW5rIG9mIGEgYmV0dGVyIG5hbWUgOihcblxuICAgICAgICB2YXIgbm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyA9IGZvY3VzYWJsZU5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiAhbm9kZS5oYXNBdHRyaWJ1dGUoX3RoaXMzLmNvbmZpZy5jbG9zZVRyaWdnZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vZGVzV2hpY2hBcmVOb3RDbG9zZVRhcmdldHMubGVuZ3RoID4gMCkgbm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0c1swXS5mb2N1cygpO1xuICAgICAgICBpZiAobm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cy5sZW5ndGggPT09IDApIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJldGFpbkZvY3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmV0YWluRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgdmFyIGZvY3VzYWJsZU5vZGVzID0gdGhpcy5nZXRGb2N1c2FibGVOb2RlcygpOyAvLyBubyBmb2N1c2FibGUgbm9kZXNcblxuICAgICAgICBpZiAoZm9jdXNhYmxlTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaWx0ZXJzIG5vZGVzIHdoaWNoIGFyZSBoaWRkZW4gdG8gcHJldmVudFxuICAgICAgICAgKiBmb2N1cyBsZWFrIG91dHNpZGUgbW9kYWxcbiAgICAgICAgICovXG5cbiAgICAgICAgZm9jdXNhYmxlTm9kZXMgPSBmb2N1c2FibGVOb2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5vZmZzZXRQYXJlbnQgIT09IG51bGw7XG4gICAgICAgIH0pOyAvLyBpZiBkaXNhYmxlRm9jdXMgaXMgdHJ1ZVxuXG4gICAgICAgIGlmICghdGhpcy5tb2RhbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZvY3VzZWRJdGVtSW5kZXggPSBmb2N1c2FibGVOb2Rlcy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZU5vZGVzW2ZvY3VzYWJsZU5vZGVzLmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNhYmxlTm9kZXMubGVuZ3RoID4gMCAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSBmb2N1c2FibGVOb2Rlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBmb2N1c2FibGVOb2Rlc1swXS5mb2N1cygpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIE1vZGFsIHByb3RvdHlwZSBlbmRzLlxuICAgKiBIZXJlIG9uIGNvZGUgaXMgcmVzcG9uc2libGUgZm9yIGRldGVjdGluZyBhbmRcbiAgICogYXV0byBiaW5kaW5nIGV2ZW50IGhhbmRsZXJzIG9uIG1vZGFsIHRyaWdnZXJzXG4gICAqL1xuICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBvcGVuZWQgbW9kYWxcblxuXG4gIHZhciBhY3RpdmVNb2RhbCA9IG51bGw7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYW4gYXNzb2NpYXRpdmUgYXJyYXkgb2YgbW9kYWxzIGFuZCBpdCdzXG4gICAqIHJlc3BlY3RpdmUgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzICAgICBBbiBhcnJheSBvZiBhbGwgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0cmlnZ2VyQXR0ciBUaGUgZGF0YS1hdHRyaWJ1dGUgd2hpY2ggdHJpZ2dlcnMgdGhlIG1vZHVsZVxuICAgKiBAcmV0dXJuIHthcnJheX1cbiAgICovXG5cbiAgdmFyIGdlbmVyYXRlVHJpZ2dlck1hcCA9IGZ1bmN0aW9uIGdlbmVyYXRlVHJpZ2dlck1hcCh0cmlnZ2VycywgdHJpZ2dlckF0dHIpIHtcbiAgICB2YXIgdHJpZ2dlck1hcCA9IFtdO1xuICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgIHZhciB0YXJnZXRNb2RhbCA9IHRyaWdnZXIuYXR0cmlidXRlc1t0cmlnZ2VyQXR0cl0udmFsdWU7XG4gICAgICBpZiAodHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0gPT09IHVuZGVmaW5lZCkgdHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0gPSBbXTtcbiAgICAgIHRyaWdnZXJNYXBbdGFyZ2V0TW9kYWxdLnB1c2godHJpZ2dlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyaWdnZXJNYXA7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgd2hldGhlciBhIG1vZGFsIG9mIHRoZSBnaXZlbiBpZCBleGlzdHNcbiAgICogaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlkICBUaGUgaWQgb2YgdGhlIG1vZGFsXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlTW9kYWxQcmVzZW5jZSA9IGZ1bmN0aW9uIHZhbGlkYXRlTW9kYWxQcmVzZW5jZShpZCkge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJNaWNyb01vZGFsOiBcXHUyNzU3U2VlbXMgbGlrZSB5b3UgaGF2ZSBtaXNzZWQgJWMnXCIuY29uY2F0KGlkLCBcIidcIiksICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsICdJRCBzb21ld2hlcmUgaW4geW91ciBjb2RlLiBSZWZlciBleGFtcGxlIGJlbG93IHRvIHJlc29sdmUgaXQuJyk7XG4gICAgICBjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsIFwiPGRpdiBjbGFzcz1cXFwibW9kYWxcXFwiIGlkPVxcXCJcIi5jb25jYXQoaWQsIFwiXFxcIj48L2Rpdj5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBpZiB0aGVyZSBhcmUgbW9kYWwgdHJpZ2dlcnMgcHJlc2VudFxuICAgKiBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyBBbiBhcnJheSBvZiBkYXRhLXRyaWdnZXJzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlVHJpZ2dlclByZXNlbmNlID0gZnVuY3Rpb24gdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UodHJpZ2dlcnMpIHtcbiAgICBpZiAodHJpZ2dlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWw6IFxcdTI3NTdQbGVhc2Ugc3BlY2lmeSBhdCBsZWFzdCBvbmUgJWMnbWljcm9tb2RhbC10cmlnZ2VyJ1wiLCAnYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtjb2xvcjogIzUwNTk2Yztmb250LXdlaWdodDogYm9sZDsnLCAnZGF0YSBhdHRyaWJ1dGUuJyk7XG4gICAgICBjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsIFwiPGEgaHJlZj1cXFwiI1xcXCIgZGF0YS1taWNyb21vZGFsLXRyaWdnZXI9XFxcIm15LW1vZGFsXFxcIj48L2E+XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0cmlnZ2VycyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBtb2RhbHNcbiAgICogYXJlIHByZXNlbnQgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgICBBcnJheSBvZiBET00gbm9kZXMgd2hpY2ggaGF2ZSBkYXRhLXRyaWdnZXJzXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VyTWFwIEFzc29jaWF0aXZlIGFycmF5IG9mIG1vZGFscyBhbmQgdGhlaXIgdHJpZ2dlcnNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVBcmdzID0gZnVuY3Rpb24gdmFsaWRhdGVBcmdzKHRyaWdnZXJzLCB0cmlnZ2VyTWFwKSB7XG4gICAgdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UodHJpZ2dlcnMpO1xuICAgIGlmICghdHJpZ2dlck1hcCkgcmV0dXJuIHRydWU7XG5cbiAgICBmb3IgKHZhciBpZCBpbiB0cmlnZ2VyTWFwKSB7XG4gICAgICB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UoaWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQmluZHMgY2xpY2sgaGFuZGxlcnMgdG8gYWxsIG1vZGFsIHRyaWdnZXJzXG4gICAqIEBwYXJhbSAge29iamVjdH0gY29uZmlnIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuXG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KGNvbmZpZykge1xuICAgIC8vIENyZWF0ZSBhbiBjb25maWcgb2JqZWN0IHdpdGggZGVmYXVsdCBvcGVuVHJpZ2dlclxuICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgb3BlblRyaWdnZXI6ICdkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcidcbiAgICB9LCBjb25maWcpOyAvLyBDb2xsZWN0cyBhbGwgdGhlIG5vZGVzIHdpdGggdGhlIHRyaWdnZXJcblxuICAgIHZhciB0cmlnZ2VycyA9IF90b0NvbnN1bWFibGVBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiLmNvbmNhdChvcHRpb25zLm9wZW5UcmlnZ2VyLCBcIl1cIikpKTsgLy8gTWFrZXMgYSBtYXBwaW5ncyBvZiBtb2RhbHMgd2l0aCB0aGVpciB0cmlnZ2VyIG5vZGVzXG5cblxuICAgIHZhciB0cmlnZ2VyTWFwID0gZ2VuZXJhdGVUcmlnZ2VyTWFwKHRyaWdnZXJzLCBvcHRpb25zLm9wZW5UcmlnZ2VyKTsgLy8gQ2hlY2tzIGlmIG1vZGFscyBhbmQgdHJpZ2dlcnMgZXhpc3QgaW4gZG9tXG5cbiAgICBpZiAob3B0aW9ucy5kZWJ1Z01vZGUgPT09IHRydWUgJiYgdmFsaWRhdGVBcmdzKHRyaWdnZXJzLCB0cmlnZ2VyTWFwKSA9PT0gZmFsc2UpIHJldHVybjsgLy8gRm9yIGV2ZXJ5IHRhcmdldCBtb2RhbCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdHJpZ2dlck1hcCkge1xuICAgICAgdmFyIHZhbHVlID0gdHJpZ2dlck1hcFtrZXldO1xuICAgICAgb3B0aW9ucy50YXJnZXRNb2RhbCA9IGtleTtcbiAgICAgIG9wdGlvbnMudHJpZ2dlcnMgPSBfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpO1xuICAgICAgYWN0aXZlTW9kYWwgPSBuZXcgTW9kYWwob3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogU2hvd3MgYSBwYXJ0aWN1bGFyIG1vZGFsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0TW9kYWwgW1RoZSBpZCBvZiB0aGUgbW9kYWwgdG8gZGlzcGxheV1cbiAgICogQHBhcmFtICB7b2JqZWN0fSBjb25maWcgW1RoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBwYXNzXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdyh0YXJnZXRNb2RhbCwgY29uZmlnKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBjb25maWcgfHwge307XG4gICAgb3B0aW9ucy50YXJnZXRNb2RhbCA9IHRhcmdldE1vZGFsOyAvLyBDaGVja3MgaWYgbW9kYWxzIGFuZCB0cmlnZ2VycyBleGlzdCBpbiBkb21cblxuICAgIGlmIChvcHRpb25zLmRlYnVnTW9kZSA9PT0gdHJ1ZSAmJiB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UodGFyZ2V0TW9kYWwpID09PSBmYWxzZSkgcmV0dXJuOyAvLyBjbGVhciBldmVudHMgaW4gY2FzZSBwcmV2aW91cyBtb2RhbCB3YXNuJ3QgY2xvc2VcblxuICAgIGlmIChhY3RpdmVNb2RhbCkgYWN0aXZlTW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTsgLy8gc3RvcmVzIHJlZmVyZW5jZSB0byBhY3RpdmUgbW9kYWxcblxuICAgIGFjdGl2ZU1vZGFsID0gbmV3IE1vZGFsKG9wdGlvbnMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXG4gICAgYWN0aXZlTW9kYWwuc2hvd01vZGFsKCk7XG4gIH07XG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGFjdGl2ZSBtb2RhbFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldE1vZGFsIFtUaGUgaWQgb2YgdGhlIG1vZGFsIHRvIGNsb3NlXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKHRhcmdldE1vZGFsKSB7XG4gICAgdGFyZ2V0TW9kYWwgPyBhY3RpdmVNb2RhbC5jbG9zZU1vZGFsQnlJZCh0YXJnZXRNb2RhbCkgOiBhY3RpdmVNb2RhbC5jbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0OiBpbml0LFxuICAgIHNob3c6IHNob3csXG4gICAgY2xvc2U6IGNsb3NlXG4gIH07XG59KCk7XG53aW5kb3cuTWljcm9Nb2RhbCA9IE1pY3JvTW9kYWw7XG5cbmV4cG9ydCBkZWZhdWx0IE1pY3JvTW9kYWw7XG4iLCJjbGFzcyBQcm9qZWN0IHtcclxuICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pIHtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgIHRoaXMudG9kb0xpc3QgPSBbXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2plY3Q7IiwiY2xhc3MgVG9kbyB7XHJcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSA9IDAsIGNvbXBsZXRlID0gZmFsc2UpIHtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICB0aGlzLmNvbXBsZXRlID0gY29tcGxldGU7XHJcbiAgICAvLyBBZGQgbm90ZXMgYW5kIGNoZWNrbGlzdCBsYXRlclxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVG9kbzsiLCJpbXBvcnQgTWljcm9Nb2RhbCBmcm9tICdtaWNyb21vZGFsJztcclxuaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlMidcclxuXHJcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcclxuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0cyc7XHJcbmltcG9ydCBUb2RvIGZyb20gJy4vdG9kb3MnO1xyXG5cclxuY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0cycpO1xyXG5jb25zdCBtb2RhbENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRlbnQnKTtcclxuY29uc3QgbW9kYWxUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fdGl0bGUnKTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9qZWN0ID0gbmV3IFByb2plY3QoJ2RlZmF1bHQnLCAnVGhpcyBpcyB0aGUgZGVmYXVsdCB0b0RvIGxpc3QnKTtcclxuY29uc3QgdGVzdFRvZG8gPSBuZXcgVG9kbygndGVzdCcsICd0ZXN0JywgJ2RkZmZkc2QnLCAnZGRkZGRkZGQnKTtcclxuZGVmYXVsdFByb2plY3QudG9kb0xpc3QucHVzaCh0ZXN0VG9kbyk7XHJcbmxldCBwcm9qZWN0TGlzdCA9IFtkZWZhdWx0UHJvamVjdF07XHJcbmxldCBmaXJzdFJlbmRlciA9IGZhbHNlO1xyXG5cclxuY29uc3QgY2xlYW5QYWdlID0gKGVsZW1lbnQpID0+IHtcclxuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XHJcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQubGFzdENoaWxkKTtcclxuICB9XHJcbn07XHJcbmNvbnN0IHJlbW92ZVRvZG8gPSAocHJvamVjdCwgdG9kbykgPT4ge1xyXG4gIHByb2plY3QudG9kb0xpc3QgPSBwcm9qZWN0LnRvZG9MaXN0LmZpbHRlcigodmFsdWUpID0+IHZhbHVlICE9PSB0b2RvKTtcclxuICByZW5kZXJQcm9qZWN0cygpO1xyXG4gIGNsb3NlTW9kYWwoKTtcclxufVxyXG5cclxuY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYnRuJykuY2xpY2soKTtcclxuXHJcbmNvbnN0IHJlbmRlclRvZG8gPSAodG9kbywgcHJvamVjdCkgPT4ge1xyXG4gIGNsZWFuUGFnZShtb2RhbENvbnRlbnQpO1xyXG4gIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSB0b2RvLnRpdGxlO1xyXG4gIE9iamVjdC5lbnRyaWVzKHRvZG8pLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGAke2l0ZW1bMF19OiAke2l0ZW1bMV19YDtcclxuICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9KTtcclxuICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgZGVsQnRuLnRleHRDb250ZW50ID0gJ1JlbW92ZSBUb2RvJztcclxuICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcclxuICBkZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiByZW1vdmVUb2RvKHByb2plY3QsIHRvZG8pKTtcclxuICBlZGl0QnRuLnRleHRDb250ZW50ID0gJ0VkaXQgVG9kbyc7XHJcbiAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBlZGl0VG9kbyhwcm9qZWN0LCB0b2RvKSk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRUb2RvTGlzdCA9IChwcm9qZWN0KSA9PiB7XHJcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gIHByb2plY3QudG9kb0xpc3QuZm9yRWFjaCh0b2RvID0+IHtcclxuICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIGxpLnRleHRDb250ZW50ID0gYCR7dG9kby50aXRsZX0gLSBEdWU6ICR7dG9kby5kdWVEYXRlfWA7XHJcbiAgICBsaS5jbGFzc0xpc3QuYWRkKCd0b2RvLWxpc3QtaXRlbXMnKTtcclxuICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVuZGVyVG9kbyh0b2RvLCBwcm9qZWN0KSk7XHJcbiAgICBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWljcm9tb2RhbC10cmlnZ2VyJywgJ21vZGFsLTEnKTtcclxuICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcclxuICB9KTtcclxuICByZXR1cm4gdWw7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJQcm9qZWN0cyA9ICgpID0+IHtcclxuICBjbGVhblBhZ2UocHJvamVjdERpdik7XHJcblxyXG4gIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykgJiYgZmlyc3RSZW5kZXIgPT09IGZhbHNlKSB7XHJcbiAgICAvLyBwcm9qZWN0TGlzdCA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKTtcclxuICAgIHByb2plY3RMaXN0ID0gc3RvcmUoJ3Byb2plY3RzJyk7XHJcbiAgICBmaXJzdFJlbmRlciA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xyXG4gICAgc3RvcmUoJ3Byb2plY3RzJywgcHJvamVjdExpc3QpO1xyXG5cclxuICB9XHJcblxyXG4gIHByb2plY3RMaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XHJcbiAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XHJcbiAgICBoMi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XHJcbiAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKGgyKTtcclxuICAgIGNvbnN0IHVsID0gZ2V0VG9kb0xpc3QocHJvamVjdCk7XHJcbiAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHVsKTtcclxuICAgIE1pY3JvTW9kYWwuaW5pdCgpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlUHJvamVjdCA9IChldmVudCkgPT4ge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC10aXRsZScpLnZhbHVlO1xyXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtZGVzY3JpcHRpb24nKS52YWx1ZTtcclxuICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QodGl0bGUsIGRlc2NyaXB0aW9uKTtcclxuICAvLyBjb25zdCBuZXdQcm9qZWN0ID0gUHJvamVjdCh0aXRsZSwgZGVzY3JpcHRpb24pO1xyXG4gIHByb2plY3RMaXN0LnB1c2gobmV3UHJvamVjdCk7XHJcbiAgcmVuZGVyUHJvamVjdHMoKTtcclxuICBjbG9zZU1vZGFsKCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVUb2RvID0gKGV2ZW50KSA9PiB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLXByb2plY3QnKS52YWx1ZTtcclxuICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdExpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS50aXRsZSA9PT0gcHJvamVjdE5hbWUpO1xyXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tdGl0bGUnKS52YWx1ZTtcclxuICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWRlc2NyaXB0aW9uJykudmFsdWU7XHJcbiAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWR1ZURhdGUnKS52YWx1ZTtcclxuICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLXByaW9yaXR5JykudmFsdWU7XHJcbiAgY29uc3QgbmV3VG9kbyA9IG5ldyBUb2RvKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xyXG4gIHByb2plY3RbMF0udG9kb0xpc3QucHVzaChuZXdUb2RvKTtcclxuICByZW5kZXJQcm9qZWN0cygpO1xyXG4gIGNsb3NlTW9kYWwoKTtcclxufTtcclxuY29uc3QgZWRpdFRvZG8gPSAocHJvamVjdCwgdG9kbykgPT4ge1xyXG4gIGNyZWF0ZVRvZG9Gb3JtKHRydWUsIHRvZG8sIHByb2plY3QpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVG9kb0Zvcm0gPSAoZWRpdGVkLCB0b2RvLCBwcm9qZWN0KSA9PiB7XHJcbiAgY2xlYW5QYWdlKG1vZGFsQ29udGVudCk7XHJcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICBjb25zdCBpbnB1dHMgPSBbJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJywgJ2R1ZURhdGUnLCAncHJpb3JpdHknXTtcclxuICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICBzZWxlY3QuY2xhc3NMaXN0LmFkZCgndG9kby1wcm9qZWN0Jyk7XHJcbiAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXQ7XHJcbiAgICBpZiAoZWRpdGVkKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsdWUgPSB0b2RvW2lucHV0XTtcclxuICAgIH1cclxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChgdG9kby0ke2lucHV0fWApO1xyXG4gICAgZm9ybS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9KTtcclxuICBwcm9qZWN0TGlzdC5mb3JFYWNoKHByb2plY3QgPT4ge1xyXG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICBvcHRpb24udGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlO1xyXG4gICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgfSk7XHJcbiAgZm9ybS5hcHBlbmRDaGlsZChzZWxlY3QpO1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gIGlmICghZWRpdGVkKSB7XHJcbiAgICBtb2RhbFRpdGxlLnRleHRDb250ZW50ID0gJ0FkZCBUb2RvJztcclxuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdDcmVhdGUgVG9kbyc7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSAnRWRpdCBUb2RvJztcclxuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdGaW5pc2hlZCBFZGl0JztcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbW92ZVRvZG8ocHJvamVjdCwgdG9kbykpO1xyXG4gIH1cclxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVUb2RvKTtcclxuICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGZvcm0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlUHJvamVjdEZvcm0gPSAoKSA9PiB7XHJcbiAgY2xlYW5QYWdlKG1vZGFsQ29udGVudCk7XHJcbiAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9ICdBZGQgUHJvamVjdCc7XHJcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICBjb25zdCBpbnB1dHMgPSBbJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJ107XHJcbiAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXQ7XHJcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYHByb2plY3QtJHtpbnB1dH1gKTtcclxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgfSk7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0NyZWF0ZSBQcm9qZWN0JztcclxuICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlUHJvamVjdCk7XHJcbiAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGZvcm0pO1xyXG59O1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZS10b2RvLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY3JlYXRlVG9kb0Zvcm0oZmFsc2UsIHt9LCB7fSkpO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZS1wcm9qZWN0LWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlUHJvamVjdEZvcm0pO1xyXG5cclxucmVuZGVyUHJvamVjdHMoKTsiXSwic291cmNlUm9vdCI6IiJ9